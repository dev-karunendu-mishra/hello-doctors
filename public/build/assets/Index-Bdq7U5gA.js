import{r as s,R as F,j as b,H as ct,L as ke,a as Ae}from"./app-DMN8c6vm.js";import{A as lt}from"./AuthenticatedLayout-BjRaea7R.js";import{I as re,S as ut,w as mt,c as P,u as Xe,U as pe,e as dt,V as ft,W as gt,a as he,N as pt,X as ht,j as vt,m as wt,g as oe,f as Ct,Y as xt,z as _e,G as He,A as Ze,C as yt,Z as bt}from"./index-BW0nI5-Z.js";import{B as ce,S as It}from"./index-C8zb2_mb.js";import{F as St}from"./Table-CgO0P9-k.js";import{R as ve,a as we}from"./index-Bu-4_bOu.js";import{T as ne}from"./index-C6Z83uG0.js";import{R as Et}from"./EyeOutlined-CgG6LajU.js";import{R as Nt}from"./EditOutlined-CeK_2jGo.js";import{P as Mt}from"./index-CZf3jlnY.js";import{R as Rt}from"./DeleteOutlined-DmZsZ2BD.js";import"./ApplicationLogo-De6RgaqK.js";import"./transition-J8jS9ZvQ.js";import"./index-DlinHlIe.js";import"./index-C9dSZvy0.js";import"./CheckOutlined-Bo5eQYpK.js";import"./CloseCircleFilled-CU0jELYL.js";import"./DownOutlined-CPNtPKBg.js";import"./SearchOutlined-Bw3R2GAy.js";import"./index-CwlzkV2O.js";import"./useBubbleLock-DUqfJ9xS.js";import"./index-C8VUUUX2.js";import"./useForm-DPj_5UC5.js";import"./Pagination-CiX7KHE1.js";import"./index-JZqEhivI.js";import"./index-D4pjo7pe.js";import"./Input-0vkbORzU.js";import"./getAllowClear-Cscf5q2u.js";import"./ExclamationCircleFilled-DEw8Iq-9.js";import"./index-2stbQ4d-.js";const Te=e=>e&&typeof e=="object"?e:typeof e=="boolean"?{enabled:e,blur:e}:{},Pt=(e,t,o)=>s.useMemo(()=>{const n=Te(e),r={...Te(t),...n},a=r.blur!==!1?`${o}-mask-blur`:void 0;return[r.enabled!==!1,{mask:a}]},[e,t,o]);var $t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Ce.apply(this,arguments)}const Ot=(e,t)=>s.createElement(re,Ce({},e,{ref:t,icon:$t})),jt=s.forwardRef(Ot);var Lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},xe.apply(this,arguments)}const kt=(e,t)=>s.createElement(re,xe({},e,{ref:t,icon:Lt})),At=s.forwardRef(kt);var Tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},ye.apply(this,arguments)}const zt=(e,t)=>s.createElement(re,ye({},e,{ref:t,icon:Tt})),ze=s.forwardRef(zt);var Dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},be.apply(this,arguments)}const Yt=(e,t)=>s.createElement(re,be({},e,{ref:t,icon:Dt})),Xt=s.forwardRef(Yt);var _t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Ie.apply(this,arguments)}const Ht=(e,t)=>s.createElement(re,Ie({},e,{ref:t,icon:_t})),Zt=s.forwardRef(Ht),fe=s.createContext(null);function Bt(e){return new Promise(t=>{if(!e){t(!1);return}const o=document.createElement("img");o.onerror=()=>t(!1),o.onload=()=>t(!0),o.src=e})}function Be(){const e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}const le={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Wt(e,t,o,n){const i=s.useRef(null),r=s.useRef([]),[a,l]=s.useState(le),d=f=>{l(le),ut(le,a)||n?.({transform:le,action:f})},m=(f,C)=>{i.current===null&&(r.current=[],i.current=mt(()=>{l(h=>{let g=h;return r.current.forEach(x=>{g={...g,...x}}),i.current=null,n?.({transform:g,action:C}),g})})),r.current.push({...a,...f})};return{transform:a,resetTransform:d,updateTransform:m,dispatchZoomChange:(f,C,h,g,x)=>{const{width:w,height:S,offsetWidth:c,offsetHeight:u,offsetLeft:E,offsetTop:y}=e.current;let I=f,p=a.scale*f;p>o?(p=o,I=o/a.scale):p<t&&(p=x?p:t,I=p/a.scale);const $=h??innerWidth/2,j=g??innerHeight/2,N=I-1,O=N*w*.5,A=N*S*.5,z=N*($-a.x-E),D=N*(j-a.y-y);let R=a.x-(z-O),L=a.y-(D-A);if(f<1&&p===1){const B=c*p,X=u*p,{width:k,height:M}=Be();B<=k&&X<=M&&(R=0,L=0)}m({x:R,y:L,scale:p},C)}}}function De(e,t,o,n){const i=t+o,r=(o-n)/2;if(o>n){if(t>0)return{[e]:r};if(t<0&&i<n)return{[e]:-r}}else if(t<0||i>n)return{[e]:t<0?r:-r};return{}}function We(e,t,o,n){const{width:i,height:r}=Be();let a=null;return e<=i&&t<=r?a={x:0,y:0}:(e>i||t>r)&&(a={...De("x",o,e,i),...De("y",n,t,r)}),a}const te=1,Ft=1;function Vt(e,t,o,n,i,r,a){const{rotate:l,scale:d,x:m,y:v}=i,[f,C]=s.useState(!1),h=s.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),g=c=>{!t||c.button!==0||(c.preventDefault(),c.stopPropagation(),h.current={diffX:c.pageX-m,diffY:c.pageY-v,transformX:m,transformY:v},C(!0))},x=c=>{o&&f&&r({x:c.pageX-h.current.diffX,y:c.pageY-h.current.diffY},"move")},w=()=>{if(o&&f){C(!1);const{transformX:c,transformY:u}=h.current;if(!(m!==c&&v!==u))return;const y=e.current.offsetWidth*d,I=e.current.offsetHeight*d,{left:p,top:$}=e.current.getBoundingClientRect(),j=l%180!==0,N=We(j?I:y,j?y:I,p,$);N&&r({...N},"dragRebound")}},S=c=>{if(!o||c.deltaY==0)return;const u=Math.abs(c.deltaY/100),E=Math.min(u,Ft);let y=te+E*n;c.deltaY>0&&(y=te/y),a(y,"wheel",c.clientX,c.clientY)};return s.useEffect(()=>{if(t){window.addEventListener("mouseup",w,!1),window.addEventListener("mousemove",x,!1);try{window.top!==window.self&&(window.top.addEventListener("mouseup",w,!1),window.top.addEventListener("mousemove",x,!1))}catch{}}return()=>{window.removeEventListener("mouseup",w),window.removeEventListener("mousemove",x);try{window.top?.removeEventListener("mouseup",w),window.top?.removeEventListener("mousemove",x)}catch{}}},[o,f,m,v,l,t]),{isMoving:f,onMouseDown:g,onMouseMove:x,onMouseUp:w,onWheel:S}}function Fe({src:e,isCustomPlaceholder:t,fallback:o}){const[n,i]=s.useState(t?"loading":"normal"),r=s.useRef(!1),a=n==="error";s.useEffect(()=>{let v=!0;return Bt(e).then(f=>{!f&&v&&i("error")}),()=>{v=!1}},[e]),s.useEffect(()=>{t&&!r.current?i("loading"):a&&i("normal")},[e]);const l=()=>{i("normal")};return[v=>{r.current=!1,n==="loading"&&v?.complete&&(v.naturalWidth||v.naturalHeight)&&(r.current=!0,l())},a&&o?{src:o}:{onLoad:l,src:e},n]}function ue(e,t){const o=e.x-t.x,n=e.y-t.y;return Math.hypot(o,n)}function Gt(e,t,o,n){const i=ue(e,o),r=ue(t,n);if(i===0&&r===0)return[e.x,e.y];const a=i/(i+r),l=e.x+a*(t.x-e.x),d=e.y+a*(t.y-e.y);return[l,d]}function Ut(e,t,o,n,i,r,a){const{rotate:l,scale:d,x:m,y:v}=i,[f,C]=s.useState(!1),h=s.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),g=c=>{h.current={...h.current,...c}},x=c=>{if(!t)return;c.stopPropagation(),C(!0);const{touches:u=[]}=c;u.length>1?g({point1:{x:u[0].clientX,y:u[0].clientY},point2:{x:u[1].clientX,y:u[1].clientY},eventType:"touchZoom"}):g({point1:{x:u[0].clientX-m,y:u[0].clientY-v},eventType:"move"})},w=c=>{const{touches:u=[]}=c,{point1:E,point2:y,eventType:I}=h.current;if(u.length>1&&I==="touchZoom"){const p={x:u[0].clientX,y:u[0].clientY},$={x:u[1].clientX,y:u[1].clientY},[j,N]=Gt(E,y,p,$),O=ue(p,$)/ue(E,y);a(O,"touchZoom",j,N,!0),g({point1:p,point2:$,eventType:"touchZoom"})}else I==="move"&&(r({x:u[0].clientX-E.x,y:u[0].clientY-E.y},"move"),g({eventType:"move"}))},S=()=>{if(!o)return;if(f&&C(!1),g({eventType:"none"}),n>d)return r({x:0,y:0,scale:n},"touchZoom");const c=e.current.offsetWidth*d,u=e.current.offsetHeight*d,{left:E,top:y}=e.current.getBoundingClientRect(),I=l%180!==0,p=We(I?u:c,I?c:u,E,y);p&&r({...p},"dragRebound")};return s.useEffect(()=>{const c=u=>{u.preventDefault()};return o&&t&&window.addEventListener("touchmove",c,{passive:!1}),()=>{window.removeEventListener("touchmove",c)}},[o,t]),{isTouching:f,onTouchStart:x,onTouchMove:w,onTouchEnd:S}}function Qt(e){const{prefixCls:t,icon:o,onClick:n}=e;return s.createElement("button",{className:`${t}-close`,onClick:n},o)}function Jt(e){const{prefixCls:t,showProgress:o,current:n,count:i,showSwitch:r,classNames:a,styles:l,icons:d,image:m,transform:v,countRender:f,actionsRender:C,scale:h,minScale:g,maxScale:x,onActive:w,onFlipY:S,onFlipX:c,onRotateLeft:u,onRotateRight:E,onZoomOut:y,onZoomIn:I,onClose:p,onReset:$}=e,{left:j,right:N,prev:O,next:A,flipY:z,flipX:D,rotateLeft:R,rotateRight:L,zoomOut:B,zoomIn:X}=d,k=o&&s.createElement("div",{className:`${t}-progress`},f?f(n+1,i):s.createElement("bdi",null,`${n+1} / ${i}`)),M=`${t}-actions-action`,T=({type:q,disabled:ee,onClick:ge,icon:ae})=>s.createElement("div",{key:q,className:P(M,`${M}-${q}`,{[`${M}-disabled`]:!!ee}),onClick:ge},ae),_=r?T({icon:O??j,onClick:()=>w(-1),type:"prev",disabled:n===0}):void 0,H=r?T({icon:A??N,onClick:()=>w(1),type:"next",disabled:n===i-1}):void 0,G=T({icon:z,onClick:S,type:"flipY"}),U=T({icon:D,onClick:c,type:"flipX"}),K=T({icon:R,onClick:u,type:"rotateLeft"}),Y=T({icon:L,onClick:E,type:"rotateRight"}),Z=T({icon:B,onClick:y,type:"zoomOut",disabled:h<=g}),J=T({icon:X,onClick:I,type:"zoomIn",disabled:h===x}),Q=s.createElement("div",{className:P(`${t}-actions`,a.actions),style:l.actions},G,U,K,Y,Z,J);return s.createElement("div",{className:P(`${t}-footer`,a.footer),style:l.footer},k,C?C(Q,{icons:{prevIcon:_,nextIcon:H,flipYIcon:G,flipXIcon:U,rotateLeftIcon:K,rotateRightIcon:Y,zoomOutIcon:Z,zoomInIcon:J},actions:{onActive:w,onFlipY:S,onFlipX:c,onRotateLeft:u,onRotateRight:E,onZoomOut:y,onZoomIn:I,onReset:$,onClose:p},transform:v,current:n,total:i,image:m}):Q)}function Kt(e){const{prefixCls:t,onActive:o,current:n,count:i,icons:{left:r,right:a,prev:l,next:d}}=e,m=`${t}-switch`;return s.createElement(s.Fragment,null,s.createElement("div",{className:P(m,`${m}-prev`,{[`${m}-disabled`]:n===0}),onClick:()=>o(-1)},l??r),s.createElement("div",{className:P(m,`${m}-next`,{[`${m}-disabled`]:n===i-1}),onClick:()=>o(1)},d??a))}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},me.apply(this,arguments)}const qt=({fallback:e,src:t,imgRef:o,...n})=>{const[i,r]=Fe({src:t,fallback:e});return F.createElement("img",me({ref:a=>{o.current=a,i(a)}},n,r))},Ve=e=>{const{prefixCls:t,rootClassName:o,src:n,alt:i,imageInfo:r,fallback:a,movable:l=!0,onClose:d,open:m,afterOpenChange:v,icons:f={},closeIcon:C,getContainer:h,current:g=0,count:x=1,countRender:w,scaleStep:S=.5,minScale:c=1,maxScale:u=50,motionName:E="fade",imageRender:y,imgCommonProps:I,actionsRender:p,onTransform:$,onChange:j,classNames:N={},styles:O={},mousePosition:A,zIndex:z}=e,D=s.useRef(),R=s.useContext(fe),L=R&&x>1,B=R&&x>=1,[X,k]=s.useState(!0),{transform:M,resetTransform:T,updateTransform:_,dispatchZoomChange:H}=Wt(D,c,u,$),{isMoving:G,onMouseDown:U,onWheel:K}=Vt(D,l,m,S,M,_,H),{isTouching:Y,onTouchStart:Z,onTouchMove:J,onTouchEnd:Q}=Ut(D,l,m,c,M,_,H),{rotate:q,scale:ee}=M;s.useEffect(()=>{X||k(!0)},[X]),s.useEffect(()=>{m||T("close")},[m]);const ge=W=>{m&&(ee!==1?_({x:0,y:0,scale:1},"doubleClick"):H(te+S,"doubleClick",W.clientX,W.clientY))},ae=F.createElement(qt,me({},I,{width:e.width,height:e.height,imgRef:D,className:`${t}-img`,alt:i,style:{transform:`translate3d(${M.x}px, ${M.y}px, 0) scale3d(${M.flipX?"-":""}${ee}, ${M.flipY?"-":""}${ee}, 1) rotate(${q}deg)`,transitionDuration:(!X||Y)&&"0s"},fallback:a,src:n,onWheel:K,onMouseDown:U,onDoubleClick:ge,onTouchStart:Z,onTouchMove:J,onTouchEnd:Q,onTouchCancel:Q})),Re={url:n,alt:i,...r},Ke=()=>{H(te+S,"zoomIn")},qe=()=>{H(te/(te+S),"zoomOut")},et=()=>{_({rotate:q+90},"rotateRight")},tt=()=>{_({rotate:q-90},"rotateLeft")},nt=()=>{_({flipX:!M.flipX},"flipX")},ot=()=>{_({flipY:!M.flipY},"flipY")},st=()=>{T("reset")},ie=W=>{const V=g+W;V>=0&&V<=x-1&&(k(!1),T(W<0?"prev":"next"),j?.(V,g))},Pe=Xe(W=>{if(m){const{keyCode:V}=W;V===pe.ESC&&d?.(),L&&(V===pe.LEFT?ie(-1):V===pe.RIGHT&&ie(1))}});s.useEffect(()=>{if(m)return window.addEventListener("keydown",Pe),()=>{window.removeEventListener("keydown",Pe)}},[m]);const[rt,$e]=s.useState(!1);F.useEffect(()=>{m&&$e(!0)},[m]);const at=W=>{W||$e(!1),v?.(W)},[Oe,it]=s.useState(!1);dt(()=>{m&&it(!0)},[m]);const je={...O.body};return A&&(je.transformOrigin=`${A.x}px ${A.y}px`),F.createElement(ft,{open:Oe,getContainer:h,autoLock:rt},F.createElement(gt,{motionName:E,visible:Oe&&m,motionAppear:!0,motionEnter:!0,motionLeave:!0,onVisibleChanged:at},({className:W,style:V})=>{const Le={...O.root,...V};return z&&(Le.zIndex=z),F.createElement("div",{className:P(t,o,N.root,W,{[`${t}-moving`]:G}),style:Le},F.createElement("div",{className:P(`${t}-mask`,N.mask),style:O.mask,onClick:d}),F.createElement("div",{className:P(`${t}-body`,N.body),style:je},y?y(ae,{transform:M,image:Re,...R?{current:g}:{}}):ae),C!==!1&&C!==null&&F.createElement(Qt,{prefixCls:t,icon:C===!0?f.close:C||f.close,onClick:d}),L&&F.createElement(Kt,{prefixCls:t,current:g,count:x,icons:f,onActive:ie}),F.createElement(Jt,{prefixCls:t,showProgress:B,current:g,count:x,showSwitch:L,classNames:N,styles:O,image:Re,transform:M,icons:f,countRender:w,actionsRender:p,scale:ee,minScale:c,maxScale:u,onActive:ie,onFlipY:ot,onFlipX:nt,onRotateLeft:tt,onRotateRight:et,onZoomOut:qe,onZoomIn:Ke,onClose:d,onReset:st}))}))},Se=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function en(e){const[t,o]=s.useState({}),n=s.useCallback((r,a)=>(o(l=>({...l,[r]:a})),()=>{o(l=>{const d={...l};return delete d[r],d})}),[]);return[s.useMemo(()=>e?e.map(r=>{if(typeof r=="string")return{data:{src:r}};const a={};return Object.keys(r).forEach(l=>{["src",...Se].includes(l)&&(a[l]=r[l])}),{data:a}}):Object.keys(t).reduce((r,a)=>{const{canPreview:l,data:d}=t[a];return l&&r.push({data:d,id:a}),r},[]),[e,t]),n,!!e]}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Ee.apply(this,arguments)}const tn=({previewPrefixCls:e="rc-image-preview",classNames:t,styles:o,children:n,icons:i={},items:r,preview:a,fallback:l})=>{const{open:d,onOpenChange:m,current:v,onChange:f,...C}=a&&typeof a=="object"?a:{},[h,g,x]=en(r),[w,S]=he(0,v),[c,u]=s.useState(!1),{src:E,...y}=h[w]?.data||{},[I,p]=he(!!d,d),$=Xe(R=>{p(R),R!==I&&m?.(R,{current:w})}),[j,N]=s.useState(null),O=s.useCallback((R,L,B,X)=>{const k=x?h.findIndex(M=>M.data.src===L):h.findIndex(M=>M.id===R);S(k<0?0:k),$(!0),N({x:B,y:X}),u(!0)},[h,x]);s.useEffect(()=>{I?c||S(0):u(!1)},[I]);const A=(R,L)=>{S(R),f?.(R,L)},z=()=>{$(!1),N(null)},D=s.useMemo(()=>({register:g,onPreview:O}),[g,O]);return s.createElement(fe.Provider,{value:D},n,s.createElement(Ve,Ee({"aria-hidden":!I,open:I,prefixCls:e,onClose:z,mousePosition:j,imgCommonProps:y,src:E,fallback:l,icons:i,current:w,count:h.length,onChange:A},C,{classNames:t?.popup,styles:o?.popup})))};let Ye=0;function nn(e,t){const[o]=s.useState(()=>(Ye+=1,String(Ye))),n=s.useContext(fe),i={data:t,canPreview:e};return s.useEffect(()=>{if(n)return n.register(o,i)},[]),s.useEffect(()=>{n&&n.register(o,i)},[e,t]),o}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},se.apply(this,arguments)}const Me=e=>{const{prefixCls:t="rc-image",previewPrefixCls:o=`${t}-preview`,rootClassName:n,className:i,style:r,classNames:a={},styles:l={},width:d,height:m,src:v,alt:f,placeholder:C,fallback:h,preview:g=!0,onClick:x,onError:w,...S}=e,c=s.useContext(fe),u=!!g,{src:E,open:y,onOpenChange:I,cover:p,rootClassName:$,...j}=g&&typeof g=="object"?g:{},N=typeof p=="object"&&p.placement&&p.placement||"center",O=typeof p=="object"&&p.coverNode?p.coverNode:p,[A,z]=he(!!y,y),[D,R]=s.useState(null),L=Y=>{z(Y),I?.(Y)},B=()=>{L(!1)},X=C&&C!==!0,k=E??v,[M,T,_]=Fe({src:v,isCustomPlaceholder:X,fallback:h}),H=s.useMemo(()=>{const Y={};return Se.forEach(Z=>{e[Z]!==void 0&&(Y[Z]=e[Z])}),Y},Se.map(Y=>e[Y])),G=s.useMemo(()=>({...H,src:k}),[k,H]),U=nn(u,G),K=Y=>{const Z=Y.target.getBoundingClientRect(),J=Z.x+Z.width/2,Q=Z.y+Z.height/2;c?c.onPreview(U,k,J,Q):(R({x:J,y:Q}),L(!0)),x?.(Y)};return s.createElement(s.Fragment,null,s.createElement("div",se({},S,{className:P(t,n,a.root,{[`${t}-error`]:_==="error"}),onClick:u?K:x,style:{width:d,height:m,...l.root}}),s.createElement("img",se({},H,{className:P(`${t}-img`,{[`${t}-img-placeholder`]:C===!0},a.image,i),style:{height:m,...l.image,...r},ref:M},T,{width:d,height:m,onError:w})),_==="loading"&&s.createElement("div",{"aria-hidden":"true",className:`${t}-placeholder`},C),p!==!1&&u&&s.createElement("div",{className:P(`${t}-cover`,a.cover,`${t}-cover-${N}`),style:{display:r?.display==="none"?"none":void 0,...l.cover}},O)),!c&&u&&s.createElement(Ve,se({"aria-hidden":!A,open:A,prefixCls:o,onClose:B,mousePosition:D,src:k,alt:f,imageInfo:{width:d,height:m},fallback:h,imgCommonProps:H},j,{classNames:a?.popup,styles:l?.popup,rootClassName:P($,n)})))};Me.PreviewGroup=tn;const Ge=(e,t,o,n,i,r,a)=>{const[l]=pt("ImagePreview",e?.zIndex),[d,m]=Pt(e?.mask,t?.mask,`${o}-preview`);return F.useMemo(()=>{if(!e)return e;const{cover:v,getContainer:f,closeIcon:C,rootClassName:h}=e,{closeIcon:g}=t??{};return{motionName:ht(`${o}-preview`,"fade"),...e,...a?{cover:v??a}:{},icons:r,getContainer:f??i,zIndex:l,closeIcon:C??g,rootClassName:P(n,h),mask:d,blurClassName:m.mask}},[e,t,o,n,i,a,r,l,d,m])};function on(e){return s.isValidElement(e)?[e,void 0]:typeof e=="boolean"||e&&typeof e=="object"?[void 0,e]:[void 0,void 0]}function de(e){const t=s.useMemo(()=>typeof e=="boolean"?e?{}:null:e&&typeof e=="object"?e:{},[e]);return s.useMemo(()=>{if(!t)return[t,"",""];const{open:n,onOpenChange:i,cover:r,actionsRender:a,visible:l,onVisibleChange:d,rootClassName:m,maskClassName:v,mask:f,forceRender:C,destroyOnClose:h,toolbarRender:g,...x}=t;let w;i?w=i:d&&(w=(u,E)=>{const{current:y}=E||{};y!==void 0?d(u,!u,y):d(u,!u)});const[S,c]=on(f);return[{...x,open:n??l,onOpenChange:w,cover:r??S,mask:c,actionsRender:a??g},m,v]},[t])}const Ue=e=>({position:e||"absolute",inset:0}),sn=e=>{const{componentCls:t,motionDurationSlow:o,colorTextLightSolid:n}=e;return{[t]:{[`${t}-cover`]:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:n,background:new oe("#000").setA(.3).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${o}`},"&:hover":{[`${t}-cover`]:{opacity:1}},[`${t}-cover-top`]:{inset:"0 0 auto 0",justifyContent:"center"},[`${t}-cover-bottom`]:{inset:"auto 0 0 0",justifyContent:"center"}}}},rn=e=>{const{motionEaseOut:t,previewCls:o,motionDurationSlow:n,componentCls:i,colorBgMask:r,marginXL:a,marginSM:l,margin:d,colorTextLightSolid:m,paddingSM:v,paddingLG:f,previewOperationHoverColor:C,previewOperationColorDisabled:h,previewOperationSize:g,zIndexPopup:x}=e,w=new oe(r).setA(.1),S=w.clone().setA(.2),c={position:"absolute",color:m,backgroundColor:w.toRgbString(),borderRadius:"50%",padding:v,outline:0,border:0,cursor:"pointer",transition:`all ${n}`,display:"flex",fontSize:g,"&:hover":{backgroundColor:S.toRgbString()},"&:active":{backgroundColor:w.toRgbString()}};return{[`${i}-preview`]:{textAlign:"center",inset:0,position:"fixed",userSelect:"none",zIndex:x,[`${o}-mask`]:{inset:0,position:"absolute",background:r,[`&${i}-preview-mask-blur`]:{backdropFilter:"blur(4px)"},[`&${i}-preview-mask-hidden`]:{display:"none"}},[`${o}-body`]:{...Ue(),"pointer-events":"none",display:"flex",alignItems:"center",justifyContent:"center","> *":{pointerEvents:"auto"}},[`${o}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${t} 0s`},[`&-moving ${o}-img`]:{cursor:"grabbing"},[`${o}-close`]:{...c,top:l,insetInlineEnd:l},[`${o}-switch`]:{...c,top:"50%",transform:"translateY(-50%)","&-disabled":{"&, &:hover, &:active":{color:h,background:"transparent",cursor:"not-allowed"}},"&-prev":{insetInlineStart:l},"&-next":{insetInlineEnd:l}},[`${o}-footer`]:{position:"absolute",bottom:a,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)",gap:d},[`${o}-actions`]:{display:"flex",gap:v,padding:`0 ${Ct(f)}`,backgroundColor:w.toRgbString(),borderRadius:100,fontSize:g,"&-action":{padding:v,cursor:"pointer",transition:`all ${n}`,display:"flex",[`&:not(${o}-actions-action-disabled):hover`]:{color:C},"&-disabled":{color:h,cursor:"not-allowed"}}}}}},an=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-placeholder`]:{...Ue()}}}},cn=e=>{const{previewCls:t,motionDurationSlow:o}=e;return{[t]:{"&-fade":{transition:`opacity ${o}`,"&-enter, &-appear":{opacity:0,[`${t}-body`]:{transform:"scale(0)"},"&-active":{opacity:1,[`${t}-body`]:{transform:"scale(1)",transition:`transform ${o}`}}},"&-leave":{opacity:1,"&-active":{opacity:0,[`${t}-body`]:{transform:"scale(0)",transition:`transform ${o}`}}}}}}},ln=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new oe(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new oe(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new oe(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),Qe=vt("Image",e=>{const t=`${e.componentCls}-preview`,o=wt(e,{previewCls:t,imagePreviewSwitchSize:e.controlHeightLG});return[an(o),sn(o),rn(o),cn(o)]},ln),Ne={rotateLeft:s.createElement(jt,null),rotateRight:s.createElement(At,null),zoomIn:s.createElement(Xt,null),zoomOut:s.createElement(Zt,null),close:s.createElement(xt,null),left:s.createElement(we,null),right:s.createElement(ve,null),flipX:s.createElement(ze,null),flipY:s.createElement(ze,{rotate:90})},un=({previewPrefixCls:e,preview:t,classNames:o,styles:n,...i})=>{const{getPrefixCls:r,getPopupContainer:a,direction:l,preview:d,classNames:m,styles:v}=_e("image"),f=r("image",e),C=`${f}-preview`,h=He(f),[g,x]=Qe(f,h),w=P(g,x,h),[S,c,u]=de(t),[E,y,I]=de(d),p=s.useMemo(()=>({...Ne,left:l==="rtl"?s.createElement(ve,null):s.createElement(we,null),right:l==="rtl"?s.createElement(we,null):s.createElement(ve,null)}),[l]),$=Ge(S,E,f,w,a,Ne),{mask:j,blurClassName:N}=$??{},O={...i,classNames:o,styles:n},[A,z]=Ze([m,o,{cover:P(I,u),popup:{root:P(y,c),mask:P({[`${f}-preview-mask-hidden`]:!j},N)}}],[v,n],{props:O},{popup:{_default:"root"}});return s.createElement(Me.PreviewGroup,{preview:$,previewPrefixCls:C,icons:p,...i,classNames:A,styles:z})},Je=e=>{const{prefixCls:t,preview:o,className:n,rootClassName:i,style:r,styles:a,classNames:l,wrapperStyle:d,fallback:m,...v}=e,{getPrefixCls:f,getPopupContainer:C,className:h,style:g,preview:x,styles:w,classNames:S,fallback:c}=_e("image"),u=f("image",t),E=He(u),[y,I]=Qe(u,E),p=P(i,y,I,E),$=P(n,y,h),[j,N,O]=de(o),[A,z,D]=de(x),R=Ge(j,A,u,p,C,Ne,!0),L={...e,preview:R},B=s.useMemo(()=>({cover:P(D,O),popup:{root:P(z,N)}}),[N,O,z,D]),{mask:X,blurClassName:k}=R??{},M=s.useMemo(()=>({mask:P({[`${u}-preview-mask-hidden`]:!X},k)}),[X,u,k]),T=s.useMemo(()=>[S,l,B,{popup:M}],[S,l,B,M]),[_,H]=Ze(T,[w,{root:d},a],{props:L},{popup:{_default:"root"}}),G={...g,...r},U=m??c;return s.createElement(Me,{prefixCls:u,preview:R||!1,rootClassName:p,className:$,style:G,fallback:U,...v,classNames:_,styles:H})};Je.PreviewGroup=un;function _n({advertisements:e}){const t=n=>{Ae.delete(`/admin/advertisements/${n}`)},o=[{title:"Image",key:"image",render:n=>n.image_url?b.jsx(Je,{src:n.image_url,width:100}):b.jsx("div",{className:"text-gray-400",children:"No image"})},{title:"Title",dataIndex:"title",key:"title"},{title:"Position",dataIndex:"position",key:"position",render:n=>b.jsx(ne,{color:"blue",children:n})},{title:"Status",key:"status",render:n=>{const i=new Date,r=new Date(n.start_date),a=n.end_date?new Date(n.end_date):null;return n.is_active?i<r?b.jsx(ne,{color:"orange",children:"Scheduled"}):a&&i>a?b.jsx(ne,{color:"default",children:"Expired"}):b.jsx(ne,{color:"green",children:"Active"}):b.jsx(ne,{color:"red",children:"Inactive"})}},{title:"Dates",key:"dates",render:n=>b.jsxs("div",{children:[b.jsxs("div",{children:["Start: ",new Date(n.start_date).toLocaleDateString()]}),n.end_date&&b.jsxs("div",{children:["End: ",new Date(n.end_date).toLocaleDateString()]})]})},{title:"Clicks",dataIndex:"click_count",key:"clicks"},{title:"Sort Order",dataIndex:"sort_order",key:"sort_order"},{title:"Actions",key:"actions",render:n=>b.jsxs(It,{children:[n.link_url&&b.jsx(ce,{type:"link",icon:b.jsx(Et,{}),href:n.link_url,target:"_blank",children:"View"}),b.jsx(ke,{href:`/admin/advertisements/${n.id}/edit`,children:b.jsx(ce,{type:"link",icon:b.jsx(Nt,{}),children:"Edit"})}),b.jsx(Mt,{title:"Delete Advertisement",description:"Are you sure you want to delete this advertisement?",onConfirm:()=>t(n.id),okText:"Yes",cancelText:"No",children:b.jsx(ce,{type:"link",danger:!0,icon:b.jsx(Rt,{}),children:"Delete"})})]})}];return b.jsxs(lt,{header:b.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Manage Advertisements"}),children:[b.jsx(ct,{title:"Manage Advertisements"}),b.jsx("div",{className:"py-12",children:b.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:b.jsxs(yt,{children:[b.jsx("div",{className:"mb-6",children:b.jsx(ke,{href:"/admin/advertisements/create",children:b.jsx(ce,{type:"primary",icon:b.jsx(bt,{}),children:"Add New Advertisement"})})}),b.jsx(St,{columns:o,dataSource:e.data,rowKey:"id",pagination:{current:e.current_page,total:e.total,pageSize:e.per_page,onChange:n=>{Ae.get(`/admin/advertisements?page=${n}`)}}})]})})})]})}export{_n as default};
