import{c}from"./index-BDREbTHe.js";import{R as s,r as E}from"./app-D55t-D9U.js";import{R as Q}from"./CloseCircleFilled-CFl4zLgu.js";function U(n){return!!(n.addonBefore||n.addonAfter)}function X(n){return!!(n.prefix||n.suffix||n.allowClear)}function G(n,e,a){const t=e.cloneNode(!0),r=Object.create(n,{target:{value:t},currentTarget:{value:t}});return t.value=a,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd),t.setSelectionRange=(...i)=>{e.setSelectionRange(...i)},r}function ee(n,e,a,t){if(!a)return;let r=e;if(e.type==="click"){r=G(e,n,""),a(r);return}if(n.type!=="file"&&t!==void 0){r=G(e,n,t),a(r);return}a(r)}function R(){return R=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n},R.apply(this,arguments)}const ne=s.forwardRef((n,e)=>{const{inputElement:a,children:t,prefixCls:r,prefix:i,suffix:d,addonBefore:I,addonAfter:h,className:P,style:k,disabled:m,readOnly:A,focused:D,triggerFocus:F,allowClear:u,value:g,handleReset:M,hidden:T,classes:N,classNames:f,dataAttrs:H,styles:b,components:x,onClear:_}=n,j=t??a,q=x?.affixWrapper||"span",z=x?.groupWrapper||"span",J=x?.wrapper||"span",O=x?.groupAddon||"span",v=E.useRef(null),K=o=>{v.current?.contains(o.target)&&F?.()},S=X(n);let p=E.cloneElement(j,{value:g,className:c(j.props?.className,!S&&f?.variant)||null});const B=E.useRef(null);if(s.useImperativeHandle(e,()=>({nativeElement:B.current||v.current})),S){let o=null;if(u){const C=!m&&!A&&g,W=`${r}-clear-icon`,L=typeof u=="object"&&u?.clearIcon?u.clearIcon:"âœ–";o=s.createElement("button",{type:"button",tabIndex:-1,onClick:w=>{M?.(w),_?.()},onMouseDown:w=>w.preventDefault(),className:c(W,{[`${W}-hidden`]:!C,[`${W}-has-suffix`]:!!d})},L)}const l=`${r}-affix-wrapper`,y=c(l,{[`${r}-disabled`]:m,[`${l}-disabled`]:m,[`${l}-focused`]:D,[`${l}-readonly`]:A,[`${l}-input-with-clear-btn`]:d&&u&&g},N?.affixWrapper,f?.affixWrapper,f?.variant),$=(d||u)&&s.createElement("span",{className:c(`${r}-suffix`,f?.suffix),style:b?.suffix},o,d);p=s.createElement(q,R({className:y,style:b?.affixWrapper,onClick:K},H?.affixWrapper,{ref:v}),i&&s.createElement("span",{className:c(`${r}-prefix`,f?.prefix),style:b?.prefix},i),p,$)}if(U(n)){const o=`${r}-group`,l=`${o}-addon`,y=`${o}-wrapper`,$=c(`${r}-wrapper`,o,N?.wrapper,f?.wrapper),C=c(y,{[`${y}-disabled`]:m},N?.group,f?.groupWrapper);p=s.createElement(z,{className:C,ref:B},s.createElement(J,{className:$},I&&s.createElement(O,{className:l},I),p,h&&s.createElement(O,{className:l},h)))}return s.cloneElement(p,{className:c(p.props?.className,P)||null,style:{...p.props?.style,...k},hidden:T})});function te(n,e){return E.useMemo(()=>{let a={};e&&(a.show=typeof e=="object"&&e.formatter?e.formatter:!!e),a={...a,...n};const{show:t,...r}=a;return{...r,show:!!t,showFormatter:typeof t=="function"?t:void 0,strategy:r.strategy||(i=>i.length)}},[n,e])}const re=n=>{let e;return typeof n=="object"&&n?.clearIcon?e=n:n&&(e={clearIcon:s.createElement(Q,null)}),e};export{ne as B,re as g,ee as r,te as u};
