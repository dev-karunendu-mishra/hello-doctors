import{r as p,j as e,H as y,L as c,a as r}from"./app-DMN8c6vm.js";import{A as v}from"./AdminLayout-CYJwaImX.js";import{B as o,S as m}from"./index-C8zb2_mb.js";import{Z as I,C as _}from"./index-BW0nI5-Z.js";import{I as w}from"./index-BJbHgQL4.js";import{R as b}from"./SearchOutlined-Bw3R2GAy.js";import{S as n}from"./index-DlinHlIe.js";import{F as k}from"./Table-CgO0P9-k.js";import{T as h}from"./index-C6Z83uG0.js";import{R as C}from"./EyeOutlined-CgG6LajU.js";import{R}from"./EditOutlined-CeK_2jGo.js";import{P as $}from"./index-CZf3jlnY.js";import{R as T}from"./DeleteOutlined-DmZsZ2BD.js";import"./index-Bu-4_bOu.js";import"./index-XI1aNo4t.js";import"./index-2stbQ4d-.js";import"./UserOutlined-CT6efwaX.js";import"./MedicineBoxOutlined-DXXWY55O.js";import"./CalendarOutlined-DYgLrgL6.js";import"./index-JZqEhivI.js";import"./Input-0vkbORzU.js";import"./getAllowClear-Cscf5q2u.js";import"./CloseCircleFilled-CU0jELYL.js";import"./TextArea-C7pLIYAL.js";import"./index-C9dSZvy0.js";import"./CheckOutlined-Bo5eQYpK.js";import"./DownOutlined-CPNtPKBg.js";import"./index-CwlzkV2O.js";import"./useBubbleLock-DUqfJ9xS.js";import"./index-C8VUUUX2.js";import"./useForm-DPj_5UC5.js";import"./Pagination-CiX7KHE1.js";import"./index-D4pjo7pe.js";import"./ExclamationCircleFilled-DEw8Iq-9.js";const{Search:z}=w;function me({specialties:s,filters:d}){const[l,u]=p.useState(d?.search||""),[i,x]=p.useState(d?.status||"all"),j=t=>{r.get("/admin/specialties",{search:t,status:i!=="all"?i:void 0},{preserveState:!0,replace:!0})},f=t=>{x(t),r.get("/admin/specialties",{search:l,status:t!=="all"?t:void 0},{preserveState:!0,replace:!0})},g=t=>{r.delete(`/admin/specialties/${t}`,{onSuccess:()=>{}})},S=[{title:"Name",dataIndex:"name",key:"name",render:(t,a)=>e.jsxs(m,{children:[a.image_path?e.jsx("img",{src:`/${a.image_path}`,alt:t,style:{width:40,height:40,objectFit:"contain"}}):a.icon?e.jsx("span",{style:{fontSize:"24px"},children:a.icon}):null,e.jsx("strong",{children:t})]})},{title:"Slug",dataIndex:"slug",key:"slug"},{title:"Description",dataIndex:"description",key:"description",render:t=>t?t.length>50?t.substring(0,50)+"...":t:"-"},{title:"Doctors",dataIndex:"doctors_count",key:"doctors_count",render:t=>e.jsx(h,{color:"blue",children:t})},{title:"Status",dataIndex:"is_active",key:"is_active",render:t=>e.jsx(h,{color:t?"green":"red",children:t?"Active":"Inactive"})},{title:"Sort Order",dataIndex:"sort_order",key:"sort_order"},{title:"Created",dataIndex:"created_at",key:"created_at"},{title:"Actions",key:"actions",render:(t,a)=>e.jsxs(m,{children:[e.jsx(c,{href:`/admin/specialties/${a.id}`,children:e.jsx(o,{type:"default",icon:e.jsx(C,{}),size:"small",children:"View"})}),e.jsx(c,{href:`/admin/specialties/${a.id}/edit`,children:e.jsx(o,{type:"primary",icon:e.jsx(R,{}),size:"small",children:"Edit"})}),e.jsx($,{title:"Delete Specialty",description:`Are you sure you want to delete "${a.name}"?`,onConfirm:()=>g(a.id),okText:"Yes",cancelText:"No",disabled:a.doctors_count>0,children:e.jsx(o,{type:"primary",danger:!0,icon:e.jsx(T,{}),size:"small",disabled:a.doctors_count>0,title:a.doctors_count>0?"Cannot delete specialty with assigned doctors":"",children:"Delete"})})]})}];return e.jsxs(v,{children:[e.jsx(y,{title:"Manage Specialties"}),e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Manage Specialties"}),e.jsx(c,{href:"/admin/specialties/create",children:e.jsx(o,{type:"primary",icon:e.jsx(I,{}),children:"Add Specialty"})})]}),e.jsxs(_,{children:[e.jsxs("div",{className:"mb-4 flex gap-4",children:[e.jsx(z,{placeholder:"Search specialties...",allowClear:!0,enterButton:e.jsx(b,{}),size:"large",value:l,onChange:t=>u(t.target.value),onSearch:j,style:{flex:1}}),e.jsxs(n,{size:"large",value:i,onChange:f,style:{width:150},children:[e.jsx(n.Option,{value:"all",children:"All Status"}),e.jsx(n.Option,{value:"active",children:"Active"}),e.jsx(n.Option,{value:"inactive",children:"Inactive"})]})]}),e.jsx(k,{columns:S,dataSource:s.data,rowKey:"id",pagination:{current:s.current_page,pageSize:s.per_page,total:s.total,showSizeChanger:!1,showTotal:t=>`Total ${t} specialties`,onChange:t=>{r.get("/admin/specialties",{page:t,search:l,status:i!=="all"?i:void 0},{preserveState:!0,replace:!0})}}})]})]})}export{me as default};
