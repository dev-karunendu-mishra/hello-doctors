import{r as d,j as e,H as $,L as u,a as s}from"./app-BYa8S_9n.js";import{A}from"./AdminLayout-DmlOh8Oy.js";import{C as D}from"./index-DNItgtoq.js";import{S as n,B as a}from"./index-0tDr8NYO.js";import{I as b}from"./index-B_rd_HFf.js";import{S as i}from"./index-CduuWFyU.js";import{R as N}from"./SearchOutlined-D4i-lrpl.js";import{F as T}from"./Table-CleZida5.js";import{A as f}from"./index-LHUJYw8K.js";import{R as O}from"./UserOutlined-DYeZiufL.js";import{T as o}from"./index-BK6_Nakz.js";import{R as P}from"./EyeOutlined-CUbi7mya.js";import{R as F}from"./EditOutlined-DAooh_G_.js";import{R as L}from"./CloseCircleOutlined-D_Npo2Uv.js";import{R as V}from"./CheckCircleOutlined-kazQAnyy.js";import{P as E}from"./index-CDhbI5sq.js";import{R as z}from"./DeleteOutlined-CbtEVhzX.js";import"./index-DBnpqrg4.js";import"./MedicineBoxOutlined-DgVwHFOH.js";import"./CalendarOutlined-DoYyMnGX.js";import"./index-CVtKyXfV.js";import"./Input-0u-a9oIW.js";import"./getAllowClear-BjX4QNHW.js";import"./CloseCircleFilled-BF1Xn4qK.js";import"./TextArea-DqbUZGnc.js";import"./index-D7nQ4PG9.js";import"./CheckOutlined-BC1udOZf.js";import"./DownOutlined-Brp7krEt.js";import"./index-C7FRiD4H.js";import"./useBubbleLock-CtmNw5cq.js";import"./index-CC1J3wxy.js";import"./useForm-Cv8JD8bT.js";import"./Pagination-mfWY59_v.js";import"./index-46WmkCaE.js";import"./index-CGjlX2Jl.js";import"./ExclamationCircleFilled-tKUh6zAB.js";const{Search:U}=b;function Re({doctors:l,cities:v,specialties:y,filters:c}){const[p,S]=d.useState(c.search||""),[m,g]=d.useState(c.city||null),[h,w]=d.useState(c.specialty||null),[x,C]=d.useState(c.status||null),j=()=>{const t=new URLSearchParams;p&&t.append("search",p),m&&t.append("city",m),h&&t.append("specialty",h),x&&t.append("status",x),s.get(`/admin/doctors?${t.toString()}`)},R=t=>{s.delete(`/admin/doctors/${t}`,{onSuccess:()=>{}})},k=(t,r)=>{s.post(`/admin/doctors/${t}/toggle-verification`,{},{preserveScroll:!0})},_=(t,r)=>{s.post(`/admin/doctors/${t}/toggle-active`,{},{preserveScroll:!0})},I=[{title:"Doctor",key:"doctor",render:t=>e.jsxs(n,{children:[t.profile_image_url?e.jsx(f,{src:t.profile_image_url}):e.jsx(f,{icon:e.jsx(O,{})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:t.name}),e.jsx("div",{className:"text-gray-500 text-sm",children:t.user?.email})]})]})},{title:"Specialty",dataIndex:["specialty","name"],key:"specialty"},{title:"Cities",key:"cities",render:t=>e.jsx("div",{children:t.cities?.map(r=>e.jsx(o,{children:r.name},r.id))})},{title:"Experience",dataIndex:"experience_years",key:"experience",render:t=>t?`${t} years`:"N/A"},{title:"Status",key:"status",render:t=>e.jsxs(n,{direction:"vertical",size:"small",children:[t.is_verified?e.jsx(o,{color:"green",children:"Verified"}):e.jsx(o,{color:"orange",children:"Pending"}),t.is_active?e.jsx(o,{color:"blue",children:"Active"}):e.jsx(o,{color:"red",children:"Inactive"})]})},{title:"Actions",key:"actions",render:t=>e.jsxs(n,{children:[e.jsx(u,{href:`/admin/doctors/${t.id}`,children:e.jsx(a,{type:"link",icon:e.jsx(P,{}),children:"View"})}),e.jsx(u,{href:`/admin/doctors/${t.id}/edit`,children:e.jsx(a,{type:"link",icon:e.jsx(F,{}),children:"Edit"})}),e.jsx(a,{type:"link",icon:t.is_verified?e.jsx(L,{}):e.jsx(V,{}),onClick:()=>k(t.id,t.is_verified),children:t.is_verified?"Unverify":"Verify"}),e.jsx(a,{type:"link",onClick:()=>_(t.id,t.is_active),children:t.is_active?"Deactivate":"Activate"}),e.jsx(E,{title:"Delete Doctor",description:"Are you sure you want to delete this doctor?",onConfirm:()=>R(t.id),okText:"Yes",cancelText:"No",children:e.jsx(a,{type:"link",danger:!0,icon:e.jsx(z,{}),children:"Delete"})})]})}];return e.jsxs(A,{children:[e.jsx($,{title:"Manage Doctors"}),e.jsxs(D,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs(n,{className:"w-full",direction:"vertical",size:"middle",children:[e.jsxs(n,{wrap:!0,children:[e.jsx(U,{placeholder:"Search by name, email...",value:p,onChange:t=>S(t.target.value),onSearch:j,style:{width:300}}),e.jsx(i,{placeholder:"Filter by City",style:{width:200},value:m,onChange:g,allowClear:!0,children:v.map(t=>e.jsx(i.Option,{value:t.id,children:t.name},t.id))}),e.jsx(i,{placeholder:"Filter by Specialty",style:{width:200},value:h,onChange:w,allowClear:!0,children:y.map(t=>e.jsx(i.Option,{value:t.id,children:t.name},t.id))}),e.jsxs(i,{placeholder:"Filter by Status",style:{width:150},value:x,onChange:C,allowClear:!0,children:[e.jsx(i.Option,{value:"verified",children:"Verified"}),e.jsx(i.Option,{value:"pending",children:"Pending"}),e.jsx(i.Option,{value:"active",children:"Active"}),e.jsx(i.Option,{value:"inactive",children:"Inactive"})]}),e.jsx(a,{type:"primary",icon:e.jsx(N,{}),onClick:j,children:"Search"})]}),e.jsx(u,{href:"/admin/doctors/create",children:e.jsx(a,{type:"primary",children:"Add New Doctor"})})]})}),e.jsx(T,{columns:I,dataSource:l.data,rowKey:"id",pagination:{current:l.current_page,total:l.total,pageSize:l.per_page,onChange:t=>{const r=new URLSearchParams(window.location.search);r.set("page",t),s.get(`/admin/doctors?${r.toString()}`)}}})]})]})}export{Re as default};
