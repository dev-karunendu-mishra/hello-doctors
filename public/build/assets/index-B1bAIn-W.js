import{r as a,R as ye,b as Ye}from"./app-tmpI4mLP.js";import{I as me,c as L,aA as Tt,b7 as Oe,z as $e,o as be,au as ct,j as dt,m as ut,x as pt,ap as Ae,g as Ut,A as mt,Y as zt,b as Bt,p as Wt,f as Y,t as gt,aw as ft,b8 as kt,b9 as Ze,an as Ce,B as ht,W as yt,ac as Xt,as as _t,ar as Qe,ab as et,J as Ht,a as qt,L as Vt,a7 as Gt}from"./index-BqX9Yzb6.js";import{b as Kt,B as tt}from"./index-qtuIij24.js";import{C as Jt}from"./CSSMotionList-DqMAvPa7.js";import{R as Yt}from"./DeleteOutlined-sX6P0Ibj.js";import{R as Zt}from"./EyeOutlined-BN0-1IG5.js";import{R as Qt}from"./CheckCircleFilled-B7mPBtCi.js";import{R as er}from"./CheckOutlined-Cd48V4t-.js";import{R as tr}from"./CloseCircleFilled-DqQmA1SF.js";var rr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Me.apply(this,arguments)}const nr=(e,t)=>a.createElement(me,Me({},e,{ref:t,icon:rr})),or=a.forwardRef(nr);var sr={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"};function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},je.apply(this,arguments)}const ar=(e,t)=>a.createElement(me,je({},e,{ref:t,icon:sr})),ir=a.forwardRef(ar);var lr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(this,arguments)}const cr=(e,t)=>a.createElement(me,Te({},e,{ref:t,icon:lr})),dr=a.forwardRef(cr);var ur={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"};function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ue.apply(this,arguments)}const pr=(e,t)=>a.createElement(me,Ue({},e,{ref:t,icon:ur})),mr=a.forwardRef(pr);var gr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ze.apply(this,arguments)}const fr=(e,t)=>a.createElement(me,ze({},e,{ref:t,icon:gr})),Cn=a.forwardRef(fr),hr={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,railColor:"#D9D9D9",railWidth:1,gapPosition:"bottom",loading:!1},yr=()=>{const e=a.useRef([]),t=a.useRef(null);return a.useEffect(()=>{const r=Date.now();let n=!1;e.current.forEach(s=>{if(!s)return;n=!0;const l=s.style;l.transitionDuration=".3s, .3s, .3s, .06s",t.current&&r-t.current<100&&(l.transitionDuration="0s, 0s")}),n&&(t.current=Date.now())}),e.current},rt=({bg:e,children:t})=>a.createElement("div",{style:{width:"100%",height:"100%",background:e}},t);function nt(e,t){return Object.keys(e).map(r=>{const n=parseFloat(r),s=`${Math.floor(n*t)}%`;return`${e[r]} ${s}`})}const $r=a.forwardRef((e,t)=>{const{prefixCls:r,color:n,gradientId:s,radius:l,className:i,style:o,ptg:c,strokeLinecap:u,strokeWidth:d,size:p,gapDegree:g}=e,f=n&&typeof n=="object",S=f?"#FFF":void 0,v=p/2,E=a.createElement("circle",{className:L(`${r}-circle-path`,i),r:l,cx:v,cy:v,stroke:S,strokeLinecap:u,strokeWidth:d,opacity:c===0?0:1,style:o,ref:t});if(!f)return E;const j=`${s}-conic`,b=g?`${180+g/2}deg`:"0deg",P=nt(n,(360-g)/360),C=nt(n,1),h=`conic-gradient(from ${b}, ${P.join(", ")})`,A=`linear-gradient(to ${g?"bottom":"top"}, ${C.join(", ")})`;return a.createElement(a.Fragment,null,a.createElement("mask",{id:j},E),a.createElement("foreignObject",{x:0,y:0,width:p,height:p,mask:`url(#${j})`},a.createElement(rt,{bg:A},a.createElement(rt,{bg:h}))))}),ue=100,Ne=(e,t,r,n,s,l,i,o,c,u,d=0)=>{const p=r/100*360*((360-l)/360),g=l===0?0:{bottom:0,top:180,left:90,right:-90}[i];let f=(100-n)/100*t;c==="round"&&n!==100&&(f+=u/2,f>=t&&(f=t-.01));const S=ue/2;return{stroke:typeof o=="string"?o:void 0,strokeDasharray:`${t}px ${e}`,strokeDashoffset:f+d,transform:`rotate(${s+p+g}deg)`,transformOrigin:`${S}px ${S}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},br=(({id:e,loading:t})=>{if(!t)return{indeterminateStyleProps:{},indeterminateStyleAnimation:null};const r=`${e}-indeterminate-animate`;return{indeterminateStyleProps:{transform:"rotate(0deg)",animation:`${r} 1s linear infinite`},indeterminateStyleAnimation:ye.createElement("style",null,`@keyframes ${r} {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }`)}});function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Be.apply(this,arguments)}function ot(e){const t=e??[];return Array.isArray(t)?t:[t]}const Cr=e=>{const{id:t,prefixCls:r,classNames:n={},styles:s={},steps:l,strokeWidth:i,railWidth:o,gapDegree:c=0,gapPosition:u,railColor:d,strokeLinecap:p,style:g,className:f,strokeColor:S,percent:v,loading:E,...j}={...hr,...e},b=ue/2,P=Tt(t),C=`${P}-gradient`,h=b-i/2,A=Math.PI*2*h,M=c>0?90+c/2:-90,x=A*((360-c)/360),{count:z,gap:O}=typeof l=="object"?l:{count:l,gap:2},H=ot(v),q=ot(S),J=q.find(W=>W&&typeof W=="object"),y=J&&typeof J=="object"?"butt":p,{indeterminateStyleProps:Z,indeterminateStyleAnimation:re}=br({id:P,loading:E}),te=Ne(A,x,0,100,M,c,u,d,y,i),B=yr(),G=()=>{let W=0;return H.map((N,_)=>{const m=q[_]||q[q.length-1],R=Ne(A,x,W,N,M,c,u,m,y,i);return W+=N,a.createElement($r,{key:_,color:m,ptg:N,radius:h,prefixCls:r,gradientId:C,className:n.track,style:{...R,...Z,...s.track},strokeLinecap:y,strokeWidth:i,gapDegree:c,ref:F=>{B[_]=F},size:ue})}).reverse()},K=()=>{const W=Math.round(z*(H[0]/100)),N=100/z;let _=0;return new Array(z).fill(null).map((m,R)=>{const F=R<=W-1?q[0]:d,T=F&&typeof F=="object"?`url(#${C})`:void 0,Q=Ne(A,x,_,N,M,c,u,F,"butt",i,O);return _+=(x-Q.strokeDashoffset+O)*100/x,a.createElement("circle",{key:R,className:L(`${r}-circle-path`,n.track),r:h,cx:b,cy:b,stroke:T,strokeWidth:i,opacity:1,style:{...Q,...s.track},ref:ee=>{B[R]=ee}})})};return a.createElement("svg",Be({className:L(`${r}-circle`,n.root,f),viewBox:`0 0 ${ue} ${ue}`,style:{...s.root,...g},id:t,role:"presentation"},j),!z&&a.createElement("circle",{className:L(`${r}-circle-rail`,n.rail),r:h,cx:b,cy:b,stroke:d,strokeLinecap:y,strokeWidth:o||i,style:{...te,...s.rail}}),z?K():G(),re)};function ie(e){return!e||e<0?0:e>100?100:e}function we({success:e}){let t;return e&&"percent"in e&&(t=e.percent),t}const wr=({percent:e,success:t})=>{const r=ie(we({success:t}));return[r,ie(ie(e)-r)]},Sr=({success:e={},strokeColor:t})=>{const{strokeColor:r}=e;return[r||Oe.green,t||null]},ve=(e,t,r)=>{let n=-1,s=-1;if(t==="step"){const l=r.steps,i=r.strokeWidth;typeof e=="string"||typeof e>"u"?(n=e==="small"?2:14,s=i??8):typeof e=="number"?[n,s]=[e,e]:[n=14,s=8]=Array.isArray(e)?e:[e.width,e.height],n*=l}else if(t==="line"){const l=r?.strokeWidth;typeof e=="string"||typeof e>"u"?s=l||(e==="small"?6:8):typeof e=="number"?[n,s]=[e,e]:[n=-1,s=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[n,s]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[n,s]=[e,e]:Array.isArray(e)&&(n=e[0]??e[1]??120,s=e[0]??e[1]??120));return[n,s]},vr=3,Er=e=>vr/e*100,st=["root","body","indicator"],xr=e=>{const{prefixCls:t,classNames:r,styles:n,railColor:s,trailColor:l,strokeLinecap:i="round",gapPosition:o,gapPlacement:c,gapDegree:u,width:d=120,type:p,children:g,success:f,size:S=d,steps:v}=e,{direction:E}=$e("progress"),j=s??l,[b,P]=ve(S,"circle");let{strokeWidth:C}=e;C===void 0&&(C=Math.max(Er(b),6));const h={width:b,height:P,fontSize:b*.15+6},A=a.useMemo(()=>{if(u||u===0)return u;if(p==="dashboard")return 75},[u,p]),M=wr(e),x=a.useMemo(()=>{const y=(c??o)||p==="dashboard"&&"bottom"||void 0,Z=E==="rtl";switch(y){case"start":return Z?"right":"left";case"end":return Z?"left":"right";default:return y}},[E,c,o,p]),z=Object.prototype.toString.call(e.strokeColor)==="[object Object]",O=Sr({success:f,strokeColor:e.strokeColor}),H=L(`${t}-body`,{[`${t}-circle-gradient`]:z},r.body),q=a.createElement(Cr,{steps:v,percent:v?M[1]:M,strokeWidth:C,railWidth:C,strokeColor:v?O[1]:O,strokeLinecap:i,railColor:j,prefixCls:t,gapDegree:A,gapPosition:x,classNames:be(r,st),styles:be(n,st)}),J=b<=20,V=a.createElement("div",{className:H,style:{...h,...n.body}},q,!J&&g);return J?a.createElement(ct,{title:g},V):V},We="--progress-line-stroke-color",Ir=e=>{const t="-100%";return new Ae("antProgressLTRActive",{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Pr=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{...pt(e),display:"inline-flex","&-rtl":{direction:"rtl"},[`${t}-indicator`]:{color:e.colorText,lineHeight:1,whiteSpace:"nowrap",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize}},[`&${t}-status-exception`]:{[`${t}-indicator`]:{color:e.colorError}},[`&${t}-status-success`]:{[`${t}-indicator`]:{color:e.colorSuccess}}}}},Fr=e=>{const{componentCls:t}=e;return{[`${t}-line`]:{position:"relative",width:"100%",fontSize:e.fontSize,[`${t}-body`]:{display:"inline-flex",alignItems:"center",width:"100%",gap:e.marginXS},[`${t}-rail`]:{flex:"auto",background:e.remainingColor,borderRadius:e.lineBorderRadius,position:"relative",width:"100%"},[`&${t}-status-active`]:{[`${t}-track:after`]:{content:'""',position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:"inherit",opacity:0,animationName:Ir(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite"}},[`${t}-track`]:{position:"absolute",insetInlineStart:0,insetBlock:0,borderRadius:"inherit",background:e.defaultColor,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,minWidth:"max-content",display:"flex",alignItems:"center","&-success":{background:e.colorSuccess}},[`&${t}-status-exception`]:{[`${t}-track`]:{background:e.colorError}},[`&${t}-status-success`]:{[`${t}-track`]:{background:e.colorSuccess}},[`${t}-indicator-outer`]:{[`&${t}-indicator-start`]:{order:-1}},[`${t}-body-layout-bottom`]:{flexDirection:"column",alignItems:"center",gap:e.marginXXS},[`${t}-indicator${t}-indicator-inner`]:{color:e.colorWhite,paddingInline:e.paddingXXS,width:"100%",display:"flex",justifyContent:"center",[`&${t}-indicator-end`]:{justifyContent:"end"},[`&${t}-indicator-start`]:{justifyContent:"start"},[`&${t}-indicator-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}}},Nr=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-circle`]:{[`${t}-circle-rail`]:{stroke:e.remainingColor},[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-body`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`${t}-indicator`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`&${t}-status-exception`]:{[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}}},[`&${t}-status-success`]:{[`${t}-body:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Rr=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-body":{display:"flex",flexDirection:"row",alignItems:"center",gap:e.progressStepMarginInlineEnd,[`${t}-indicator`]:{marginInlineStart:e.marginXS}},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Dr=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-indicator ${r}`]:{fontSize:e.fontSizeSM}}}},Lr=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Or=dt("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=ut(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Pr(r),Fr(r),Nr(r),Rr(r),Dr(r)]},Lr),Ar=e=>{let t=[];return Object.keys(e).forEach(r=>{const n=Number.parseFloat(r.replace(/%/g,""));Number.isNaN(n)||t.push({key:n,value:e[r]})}),t=t.sort((r,n)=>r.key-n.key),t.map(({key:r,value:n})=>`${n} ${r}%`).join(", ")},Mr=(e,t)=>{const{from:r=Oe.blue,to:n=Oe.blue,direction:s=t==="rtl"?"to left":"to right",...l}=e;if(Object.keys(l).length!==0){const o=Ar(l),c=`linear-gradient(${s}, ${o})`;return{background:c,[We]:c}}const i=`linear-gradient(${s}, ${r}, ${n})`;return{background:i,[We]:i}},jr=e=>{const{prefixCls:t,classNames:r,styles:n,direction:s,percent:l,size:i,strokeWidth:o,strokeColor:c,strokeLinecap:u="round",children:d,railColor:p,trailColor:g,percentPosition:f,success:S}=e,{align:v,type:E}=f,j=p??g,b=u==="square"||u==="butt"?0:void 0,P=i??[-1,o||(i==="small"?6:8)],[C,h]=ve(P,"line",{strokeWidth:o}),A={backgroundColor:j||void 0,borderRadius:b,height:h},M=`${t}-track`,x=c&&typeof c!="string"?Mr(c,s):{[We]:c,background:c},z={width:`${ie(l)}%`,height:h,borderRadius:b,...x},O=we(e),H={width:`${ie(O)}%`,height:h,borderRadius:b,backgroundColor:S?.strokeColor};return a.createElement("div",{className:L(`${t}-body`,r.body,{[`${t}-body-layout-bottom`]:v==="center"&&E==="outer"}),style:{width:C>0?C:"100%",...n.body}},a.createElement("div",{className:L(`${t}-rail`,r.rail),style:{...A,...n.rail}},a.createElement("div",{className:L(M,r.track),style:{...z,...n.track}},E==="inner"&&d),O!==void 0&&a.createElement("div",{className:L(M,`${M}-success`,r.track),style:{...H,...n.track}})),E==="outer"&&d)},Tr=e=>{const{classNames:t,styles:r,size:n,steps:s,rounding:l=Math.round,percent:i=0,strokeWidth:o=8,strokeColor:c,railColor:u,trailColor:d,prefixCls:p,children:g}=e,f=l(s*(i/100)),v=n??[n==="small"?2:14,o],[E,j]=ve(v,"step",{steps:s,strokeWidth:o}),b=E/s,P=Array.from({length:s}),C=u??d;for(let h=0;h<s;h++){const A=Array.isArray(c)?c[h]:c;P[h]=a.createElement("div",{key:h,className:L(`${p}-steps-item`,{[`${p}-steps-item-active`]:h<=f-1},t.track),style:{backgroundColor:h<=f-1?A:C,width:b,height:j,...r.track}})}return a.createElement("div",{className:L(`${p}-steps-body`,t.body),style:r.body},P,g)},Ur=["normal","exception","active","success"],zr=a.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:s,classNames:l,styles:i,steps:o,strokeColor:c,percent:u=0,size:d="default",showInfo:p=!0,type:g="line",status:f,format:S,style:v,percentPosition:E={},...j}=e,{align:b="end",type:P="outer"}=E,C=Array.isArray(c)?c[0]:c,h=typeof c=="string"||Array.isArray(c)?c:void 0,A=a.useMemo(()=>{if(C){const F=typeof C=="string"?C:Object.values(C)[0];return new Ut(F).isLight()}return!1},[c]),M=a.useMemo(()=>{const F=we(e);return Number.parseInt(F!==void 0?(F??0)?.toString():(u??0)?.toString(),10)},[u,e.success]),x=a.useMemo(()=>!Ur.includes(f)&&M>=100?"success":f||"normal",[f,M]),{getPrefixCls:z,direction:O,className:H,style:q,classNames:J,styles:V}=$e("progress"),y=z("progress",r),[Z,re]=Or(y),te={...e,percent:u,type:g,size:d,showInfo:p,percentPosition:E},[B,G]=mt([J,l],[V,i],{props:te}),K=g==="line",W=K&&!o,N=a.useMemo(()=>{if(!p)return null;const F=we(e);let T;const Q=S||(ne=>`${ne}%`),ee=K&&A&&P==="inner";return P==="inner"||S||x!=="exception"&&x!=="success"?T=Q(ie(u),ie(F)):x==="exception"?T=K?a.createElement(tr,null):a.createElement(zt,null):x==="success"&&(T=K?a.createElement(Qt,null):a.createElement(er,null)),a.createElement("span",{className:L(`${y}-indicator`,{[`${y}-indicator-bright`]:ee,[`${y}-indicator-${b}`]:W,[`${y}-indicator-${P}`]:W},B.indicator),style:G.indicator,title:typeof T=="string"?T:void 0},T)},[p,u,M,x,g,y,S,K,A,P,b,W,B.indicator,G.indicator]),_={...e,classNames:B,styles:G};let m;g==="line"?m=o?a.createElement(Tr,{..._,strokeColor:h,prefixCls:y,steps:typeof o=="object"?o.count:o},N):a.createElement(jr,{..._,strokeColor:C,prefixCls:y,direction:O,percentPosition:{align:b,type:P}},N):(g==="circle"||g==="dashboard")&&(m=a.createElement(xr,{..._,strokeColor:C,prefixCls:y,progressStatus:x},N));const R=L(y,`${y}-status-${x}`,{[`${y}-${g==="dashboard"&&"circle"||g}`]:g!=="line",[`${y}-inline-circle`]:g==="circle"&&ve(d,"circle")[0]<=20,[`${y}-line`]:W,[`${y}-line-align-${b}`]:W,[`${y}-line-position-${P}`]:W,[`${y}-steps`]:o,[`${y}-show-info`]:p,[`${y}-${d}`]:typeof d=="string",[`${y}-rtl`]:O==="rtl"},H,n,s,B.root,Z,re);return a.createElement("div",{ref:t,style:{...q,...G.root,...v},className:R,role:"progressbar","aria-valuenow":M,"aria-valuemin":0,"aria-valuemax":100,...be(j,["railColor","trailColor","strokeWidth","width","gapDegree","gapPosition","gapPlacement","strokeLinecap","success"])},m)}),Br=((e,t)=>{if(e&&t){const r=Array.isArray(t)?t:t.split(","),n=e.name||"",s=e.type||"",l=s.replace(/\/.*$/,"");return r.some(i=>{const o=i.trim();if(/^\*(\/\*)?$/.test(i))return!0;if(o.charAt(0)==="."){const c=n.toLowerCase(),u=o.toLowerCase();let d=[u];return(u===".jpg"||u===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(p=>c.endsWith(p))}return/\/\*$/.test(o)?l===o.replace(/\/.*$/,""):s===o?!0:/^\w+$/.test(o)?(Bt(!1,`Upload takes an invalidate 'accept' type '${o}'.Skip for check.`),!0):!1})}return!0});function Wr(e,t){const r=`cannot ${e.method} ${e.action} ${t.status}'`,n=new Error(r);return n.status=t.status,n.method=e.method,n.url=e.action,n}function at(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function it(e){const t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(l){l.total>0&&(l.percent=l.loaded/l.total*100),e.onProgress(l)});const r=new FormData;e.data&&Object.keys(e.data).forEach(s=>{const l=e.data[s];if(Array.isArray(l)){l.forEach(i=>{r.append(`${s}[]`,i)});return}r.append(s,l)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(l){e.onError(l)},t.onload=function(){return t.status<200||t.status>=300?e.onError(Wr(e,t),at(t)):e.onSuccess(at(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const n=e.headers||{};return n["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(s=>{n[s]!==null&&t.setRequestHeader(s,n[s])}),t.send(r),{abort(){t.abort()}}}const kr=async(e,t)=>{const r=[],n=[];e.forEach(c=>n.push(c.webkitGetAsEntry()));async function s(c){const u=c.createReader(),d=[];for(;;){const p=await new Promise(f=>{u.readEntries(f,()=>f([]))}),g=p.length;if(!g)break;for(let f=0;f<g;f++)d.push(p[f])}return d}async function l(c){return new Promise(u=>{c.file(d=>{t(d)?(c.fullPath&&!d.webkitRelativePath&&(Object.defineProperties(d,{webkitRelativePath:{writable:!0}}),d.webkitRelativePath=c.fullPath.replace(/^\//,""),Object.defineProperties(d,{webkitRelativePath:{writable:!1}})),u(d)):u(null)})})}const i=async(c,u)=>{if(c){if(c.path="",c.isFile){const d=await l(c);d&&r.push(d)}else if(c.isDirectory){const d=await s(c);n.push(...d)}}};let o=0;for(;o<n.length;)await i(n[o]),o++;return r},Xr=+new Date;let _r=0;function Re(){return`rc-upload-${Xr}-${++_r}`}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Se.apply(this,arguments)}class Hr extends a.Component{state={uid:Re()};reqs={};fileInput;_isMounted;filterFile=(t,r=!1)=>{const{accept:n,directory:s}=this.props;let l,i;if(typeof n=="string")i=n;else{const{filter:c,format:u}=n||{};i=u,c==="native"?l=()=>!0:l=c}return(l||(s||r?c=>Br(c,i):()=>!0))(t)};onChange=t=>{const{files:r}=t.target,n=[...r].filter(s=>this.filterFile(s));this.uploadFiles(n),this.reset()};onClick=t=>{const r=this.fileInput;if(!r)return;const n=t.target,{onClick:s}=this.props;n&&n.tagName==="BUTTON"&&(r.parentNode.focus(),n.blur()),r.click(),s&&s(t)};onKeyDown=t=>{t.key==="Enter"&&this.onClick(t)};onDataTransferFiles=async(t,r)=>{const{multiple:n,directory:s}=this.props,l=[...t.items||[]];let i=[...t.files||[]];if((i.length>0||l.some(o=>o.kind==="file"))&&r?.(),s)i=await kr(Array.prototype.slice.call(l),this.filterFile),this.uploadFiles(i);else{let o=[...i].filter(c=>this.filterFile(c,!0));n===!1&&(o=i.slice(0,1)),this.uploadFiles(o)}};onFilePaste=async t=>{const{pastable:r}=this.props;if(r&&t.type==="paste"){const n=t.clipboardData;return this.onDataTransferFiles(n,()=>{t.preventDefault()})}};onFileDragOver=t=>{t.preventDefault()};onFileDrop=async t=>{if(t.preventDefault(),t.type==="drop"){const r=t.dataTransfer;return this.onDataTransferFiles(r)}};componentDidMount(){this._isMounted=!0;const{pastable:t}=this.props;t&&document.addEventListener("paste",this.onFilePaste)}componentWillUnmount(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}componentDidUpdate(t){const{pastable:r}=this.props;r&&!t.pastable?document.addEventListener("paste",this.onFilePaste):!r&&t.pastable&&document.removeEventListener("paste",this.onFilePaste)}uploadFiles=t=>{const r=[...t],n=r.map(s=>(s.uid=Re(),this.processFile(s,r)));Promise.all(n).then(s=>{const{onBatchStart:l}=this.props;l?.(s.map(({origin:i,parsedFile:o})=>({file:i,parsedFile:o}))),s.filter(i=>i.parsedFile!==null).forEach(i=>{this.post(i)})})};processFile=async(t,r)=>{const{beforeUpload:n}=this.props;let s=t;if(n){try{s=await n(t,r)}catch{s=!1}if(s===!1)return{origin:t,parsedFile:null,action:null,data:null}}const{action:l}=this.props;let i;typeof l=="function"?i=await l(t):i=l;const{data:o}=this.props;let c;typeof o=="function"?c=await o(t):c=o;const u=(typeof s=="object"||typeof s=="string")&&s?s:t;let d;u instanceof File?d=u:d=new File([u],t.name,{type:t.type});const p=d;return p.uid=t.uid,{origin:t,data:c,parsedFile:p,action:i}};post({data:t,origin:r,action:n,parsedFile:s}){if(!this._isMounted)return;const{onStart:l,customRequest:i,name:o,headers:c,withCredentials:u,method:d}=this.props,{uid:p}=r,g=i||it,f={action:n,filename:o,data:t,file:s,headers:c,withCredentials:u,method:d||"post",onProgress:S=>{const{onProgress:v}=this.props;v?.(S,s)},onSuccess:(S,v)=>{const{onSuccess:E}=this.props;E?.(S,s,v),delete this.reqs[p]},onError:(S,v)=>{const{onError:E}=this.props;E?.(S,v,s),delete this.reqs[p]}};l(r),this.reqs[p]=g(f,{defaultRequest:it})}reset(){this.setState({uid:Re()})}abort(t){const{reqs:r}=this;if(t){const n=t.uid?t.uid:t;r[n]&&r[n].abort&&r[n].abort(),delete r[n]}else Object.keys(r).forEach(n=>{r[n]&&r[n].abort&&r[n].abort(),delete r[n]})}saveFileInput=t=>{this.fileInput=t};render(){const{component:t,prefixCls:r,className:n,classNames:s={},disabled:l,id:i,name:o,style:c,styles:u={},multiple:d,accept:p,capture:g,children:f,directory:S,openFileDialogOnClick:v,onMouseEnter:E,onMouseLeave:j,hasControlInside:b,...P}=this.props,C=typeof p=="string"?p:p?.format,h=L(r,{[`${r}-disabled`]:l,[n]:n}),A=S?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},M=l?{}:{onClick:v?this.onClick:()=>{},onKeyDown:v?this.onKeyDown:()=>{},onMouseEnter:E,onMouseLeave:j,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:b?void 0:"0"};return ye.createElement(t,Se({},M,{className:h,role:b?void 0:"button",style:c}),ye.createElement("input",Se({},Wt(P,{aria:!0,data:!0}),{id:i,name:o,disabled:l,type:"file",ref:this.saveFileInput,onClick:x=>x.stopPropagation(),key:this.state.uid,style:{display:"none",...u.input},className:s.input,accept:C},A,{multiple:d,onChange:this.onChange},g!=null?{capture:g}:{})),f)}}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(this,arguments)}function De(){}let lt=class extends a.Component{static defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:De,onError:De,onSuccess:De,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1};uploader;abort(t){this.uploader.abort(t)}saveUploader=t=>{this.uploader=t};render(){return ye.createElement(Hr,ke({},this.props,{ref:this.saveUploader}))}};const qr=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${Y(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${Y(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${Y(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},Vr=e=>{const{componentCls:t,iconCls:r,fontSize:n,lineHeight:s,calc:l}=e,i=`${t}-list-item`,o=`${i}-actions`,c=`${i}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:{...ft(),lineHeight:e.lineHeight,[i]:{position:"relative",height:l(e.lineHeight).mul(n).equal(),marginTop:e.marginXS,fontSize:n,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${i}-name`]:{...gt,padding:`0 ${Y(e.paddingXS)}`,lineHeight:s,flex:"auto",transition:`all ${e.motionDurationSlow}`},[o]:{whiteSpace:"nowrap",[c]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${c}:focus-visible,
              &.picture ${c}
            `]:{opacity:1}},[`${t}-icon ${r}`]:{color:e.colorIcon,fontSize:n},[`${i}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:l(n).add(e.paddingXS).equal(),fontSize:n,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${i}:hover ${c}`]:{opacity:1},[`${i}-error`]:{color:e.colorError,[`${i}-name, ${t}-icon ${r}`]:{color:e.colorError},[o]:{[`${r}, ${r}:hover`]:{color:e.colorError},[c]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}}}}},Gr=e=>{const{componentCls:t}=e,r=new Ae("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),n=new Ae("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),s=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${s}-appear, ${s}-enter, ${s}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${s}-appear, ${s}-enter`]:{animationName:r},[`${s}-leave`]:{animationName:n}}},{[`${t}-wrapper`]:kt(e)},r,n]},Kr=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:n,uploadProgressOffset:s,calc:l}=e,i=`${t}-list`,o=`${i}-item`;return{[`${t}-wrapper`]:{[`
        ${i}${i}-picture,
        ${i}${i}-picture-card,
        ${i}${i}-picture-circle
      `]:{[o]:{position:"relative",height:l(n).add(l(e.lineWidth).mul(2)).add(l(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${Y(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${o}-thumbnail`]:{...gt,width:n,height:n,lineHeight:Y(l(n).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}},[`${o}-progress`]:{bottom:l(e.fontSize).mul(e.lineHeight).div(2).add(s).equal(),width:`calc(100% - ${Y(l(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:l(n).add(e.paddingXS).equal()}},[`${o}-error`]:{borderColor:e.colorError,[`${o}-thumbnail ${r}`]:{[`svg path[fill='${Ze[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Ze.primary}']`]:{fill:e.colorError}}},[`${o}-uploading`]:{borderStyle:"dashed",[`${o}-name`]:{marginBottom:s}}},[`${i}${i}-picture-circle ${o}`]:{[`&, &::before, ${o}-thumbnail`]:{borderRadius:"50%"}}}}},Jr=e=>{const{componentCls:t,iconCls:r,fontSizeLG:n,colorTextLightSolid:s,calc:l}=e,i=`${t}-list`,o=`${i}-item`,c=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:{...ft(),display:"block",[`${t}${t}-select`]:{width:c,height:c,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${Y(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${i}${i}-picture-card, ${i}${i}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${i}-item-container`]:{display:"inline-block",width:c,height:c,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[o]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${Y(l(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${Y(l(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${o}:hover`]:{[`&::before, ${o}-actions`]:{opacity:1}},[`${o}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:n,margin:`0 ${Y(e.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:s,"&:hover":{color:s},svg:{verticalAlign:"baseline"}}},[`${o}-thumbnail, ${o}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${o}-name`]:{display:"none",textAlign:"center"},[`${o}-file + ${o}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${Y(l(e.paddingXS).mul(2).equal())})`},[`${o}-uploading`]:{[`&${o}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${o}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${Y(l(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}},[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},Yr=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Zr=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:{...pt(e),[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}}}},Qr=e=>({actionsColor:e.colorIcon,pictureCardSize:e.controlHeightLG*2.55}),en=dt("Upload",e=>{const{fontSizeHeading3:t,marginXS:r,lineWidth:n,pictureCardSize:s,calc:l}=e,i=ut(e,{uploadThumbnailSize:l(t).mul(2).equal(),uploadProgressOffset:l(l(r).div(2)).add(n).equal(),uploadPicCardSize:s});return[Zr(i),qr(i),Kr(i),Jr(i),Vr(i),Gr(i),Yr(i),Kt(i)]},Qr);function fe(e){return{...e,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e}}function he(e,t){const r=Ce(t),n=r.findIndex(({uid:s})=>s===e.uid);return n===-1?r.push(e):r[n]=e,r}function Le(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(n=>n[r]===e[r])[0]}function tn(e,t){const r=e.uid!==void 0?"uid":"name",n=t.filter(s=>s[r]!==e[r]);return n.length===t.length?null:n}const rn=(e="")=>{const t=e.split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},$t=e=>e.indexOf("image/")===0,nn=e=>{if(e.type&&!e.thumbUrl)return $t(e.type);const t=e.thumbUrl||e.url||"",r=rn(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},oe=200;function on(e){return new Promise(t=>{if(!e.type||!$t(e.type)){t("");return}const r=document.createElement("canvas");r.width=oe,r.height=oe,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${oe}px; height: ${oe}px; z-index: 9999; display: none;`,document.body.appendChild(r);const n=r.getContext("2d"),s=new Image;if(s.onload=()=>{const{width:l,height:i}=s;let o=oe,c=oe,u=0,d=0;l>i?(c=i*(oe/l),d=-(c-o)/2):(o=l*(oe/i),u=-(o-c)/2),n.drawImage(s,u,d,o,c);const p=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(s.src),t(p)},s.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const l=new FileReader;l.onload=()=>{l.result&&typeof l.result=="string"&&(s.src=l.result)},l.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const l=new FileReader;l.onload=()=>{l.result&&t(l.result)},l.readAsDataURL(e)}else s.src=window.URL.createObjectURL(e)})}const sn=a.forwardRef(({prefixCls:e,className:t,style:r,classNames:n,styles:s,locale:l,listType:i,file:o,items:c,progress:u,iconRender:d,actionIconRender:p,itemRender:g,isImgUrl:f,showPreviewIcon:S,showRemoveIcon:v,showDownloadIcon:E,previewIcon:j,removeIcon:b,downloadIcon:P,extra:C,onPreview:h,onDownload:A,onClose:M},x)=>{const{status:z}=o,[O,H]=a.useState(z);a.useEffect(()=>{z!=="removed"&&H(z)},[z]);const[q,J]=a.useState(!1);a.useEffect(()=>{const X=setTimeout(()=>{J(!0)},300);return()=>{clearTimeout(X)}},[]);const V=d(o);let y=a.createElement("div",{className:`${e}-icon`},V);if(i==="picture"||i==="picture-card"||i==="picture-circle")if(O==="uploading"||!o.thumbUrl&&!o.url){const X=L(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:O!=="uploading"});y=a.createElement("div",{className:X},V)}else{const X=f?.(o)?a.createElement("img",{src:o.thumbUrl||o.url,alt:o.name,className:`${e}-list-item-image`,crossOrigin:o.crossOrigin}):V,le=L(`${e}-list-item-thumbnail`,{[`${e}-list-item-file`]:f&&!f(o)});y=a.createElement("a",{className:le,onClick:Ee=>h(o,Ee),href:o.url||o.thumbUrl,target:"_blank",rel:"noopener noreferrer"},X)}const Z=L(`${e}-list-item`,`${e}-list-item-${O}`,n?.item),re=typeof o.linkProps=="string"?JSON.parse(o.linkProps):o.linkProps,te=(typeof v=="function"?v(o):v)?p((typeof b=="function"?b(o):b)||a.createElement(Yt,null),()=>M(o),e,l.removeFile,!0):null,B=(typeof E=="function"?E(o):E)&&O==="done"?p((typeof P=="function"?P(o):P)||a.createElement(or,null),()=>A(o),e,l.downloadFile):null,G=i!=="picture-card"&&i!=="picture-circle"&&a.createElement("span",{key:"download-delete",className:L(`${e}-list-item-actions`,{picture:i==="picture"})},B,te),K=typeof C=="function"?C(o):C,W=K&&a.createElement("span",{className:`${e}-list-item-extra`},K),N=L(`${e}-list-item-name`),_=o.url?a.createElement("a",{key:"view",target:"_blank",rel:"noopener noreferrer",className:N,title:o.name,...re,href:o.url,onClick:X=>h(o,X)},o.name,W):a.createElement("span",{key:"view",className:N,onClick:X=>h(o,X),title:o.name},o.name,W),m=(typeof S=="function"?S(o):S)&&(o.url||o.thumbUrl)?a.createElement("a",{href:o.url||o.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:X=>h(o,X),title:l.previewFile},typeof j=="function"?j(o):j||a.createElement(Zt,null)):null,R=(i==="picture-card"||i==="picture-circle")&&O!=="uploading"&&a.createElement("span",{className:`${e}-list-item-actions`},m,O==="done"&&B,te),{getPrefixCls:F}=a.useContext(ht),T=F(),Q=a.createElement("div",{className:Z,style:s?.item},y,_,G,R,q&&a.createElement(yt,{motionName:`${T}-fade`,visible:O==="uploading",motionDeadline:2e3},({className:X})=>{const le="percent"in o?a.createElement(zr,{type:"line",percent:o.percent,"aria-label":o["aria-label"],"aria-labelledby":o["aria-labelledby"],...u}):null;return a.createElement("div",{className:L(`${e}-list-item-progress`,X)},le)})),ee=o.response&&typeof o.response=="string"?o.response:o.error?.statusText||o.error?.message||l.uploadError,ne=O==="error"?a.createElement(ct,{title:ee,getPopupContainer:X=>X.parentNode},Q):Q;return a.createElement("div",{className:L(`${e}-list-item-container`,t),style:r,ref:x},g?g(ne,o,c,{download:A.bind(null,o),preview:h.bind(null,o),remove:M.bind(null,o)}):ne)}),an=(e,t)=>{const{listType:r="text",previewFile:n=on,onPreview:s,onDownload:l,onRemove:i,locale:o,iconRender:c,isImageUrl:u=nn,prefixCls:d,items:p=[],showPreviewIcon:g=!0,showRemoveIcon:f=!0,showDownloadIcon:S=!1,removeIcon:v,previewIcon:E,downloadIcon:j,extra:b,progress:P={size:[-1,2],showInfo:!1},appendAction:C,appendActionVisible:h=!0,itemRender:A,disabled:M,classNames:x,styles:z}=e,[,O]=Xt(),[H,q]=a.useState(!1),J=["picture-card","picture-circle"].includes(r);a.useEffect(()=>{r.startsWith("picture")&&(p||[]).forEach(m=>{!(m.originFileObj instanceof File||m.originFileObj instanceof Blob)||m.thumbUrl!==void 0||(m.thumbUrl="",n?.(m.originFileObj).then(R=>{m.thumbUrl=R||"",O()}))})},[r,p,n]),a.useEffect(()=>{q(!0)},[]);const V=(m,R)=>{if(s)return R?.preventDefault(),s(m)},y=m=>{typeof l=="function"?l(m):m.url&&window.open(m.url)},Z=m=>{i?.(m)},re=m=>{if(c)return c(m,r);const R=m.status==="uploading";if(r.startsWith("picture")){const F=r==="picture"?a.createElement(et,null):o.uploading,T=u?.(m)?a.createElement(mr,null):a.createElement(ir,null);return R?F:T}return R?a.createElement(et,null):a.createElement(dr,null)},te=(m,R,F,T,Q)=>{const ee={type:"text",size:"small",title:T,onClick:ne=>{R(),a.isValidElement(m)&&m.props.onClick?.(ne)},className:`${F}-list-item-action`,disabled:Q?M:!1};return a.isValidElement(m)?a.createElement(tt,{...ee,icon:Qe(m,{...m.props,onClick:()=>{}})}):a.createElement(tt,{...ee},a.createElement("span",null,m))};a.useImperativeHandle(t,()=>({handlePreview:V,handleDownload:y}));const{getPrefixCls:B}=a.useContext(ht),G=B("upload",d),K=B(),W=L(`${G}-list`,`${G}-list-${r}`,x?.list),N=a.useMemo(()=>be(_t(K),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[K]),_={...J?{}:N,motionDeadline:2e3,motionName:`${G}-${J?"animate-inline":"animate"}`,keys:Ce(p.map(m=>({key:m.uid,file:m}))),motionAppear:H};return a.createElement("div",{className:W,style:z?.list},a.createElement(Jt,{..._,component:!1},({key:m,file:R,className:F,style:T})=>a.createElement(sn,{key:m,locale:o,prefixCls:G,className:F,style:T,classNames:x,styles:z,file:R,items:p,progress:P,listType:r,isImgUrl:u,showPreviewIcon:g,showRemoveIcon:f,showDownloadIcon:S,removeIcon:v,previewIcon:E,downloadIcon:j,extra:b,iconRender:re,actionIconRender:te,itemRender:A,onPreview:V,onDownload:y,onClose:Z})),C&&a.createElement(yt,{..._,visible:h,forceRender:!0},({className:m,style:R})=>Qe(C,F=>({className:L(F.className,m),style:{...R,pointerEvents:m?"none":void 0,...F.style}}))))},ln=a.forwardRef(an),pe=`__LIST_IGNORE_${Date.now()}__`,cn=(e,t)=>{const r=$e("upload"),{fileList:n,defaultFileList:s,onRemove:l,showUploadList:i=!0,listType:o="text",onPreview:c,onDownload:u,onChange:d,onDrop:p,previewFile:g,disabled:f,locale:S,iconRender:v,isImageUrl:E,progress:j,prefixCls:b,className:P,type:C="select",children:h,style:A,itemRender:M,maxCount:x,data:z={},multiple:O=!1,hasControlInside:H=!0,action:q="",accept:J="",supportServerRender:V=!0,rootClassName:y,styles:Z,classNames:re}=e,te=a.useContext(Ht),B=f??te,G=e.customRequest||r.customRequest,[K,W]=qt(s,n),N=K||[],[_,m]=a.useState("drop"),R=a.useRef(null),F=a.useRef(null);a.useMemo(()=>{const $=Date.now();(n||[]).forEach((I,U)=>{!I.uid&&!Object.isFrozen(I)&&(I.uid=`__AUTO__${$}_${U}__`)})},[n]);const T=($,I,U)=>{let w=Ce(I),D=!1;x===1?w=w.slice(-1):x&&(D=w.length>x,w=w.slice(0,x)),Ye.flushSync(()=>{W(w)});const se={file:$,fileList:w};U&&(se.event=U),(!D||$.status==="removed"||w.some(ge=>ge.uid===$.uid))&&Ye.flushSync(()=>{d?.(se)})},Q=async($,I)=>{const{beforeUpload:U}=e;let w=$;if(U){const D=await U($,I);if(D===!1)return!1;if(delete $[pe],D===pe)return Object.defineProperty($,pe,{value:!0,configurable:!0}),!1;typeof D=="object"&&D&&(w=D)}return w},ee=$=>{const I=$.filter(D=>!D.file[pe]);if(!I.length)return;const U=I.map(D=>fe(D.file));let w=Ce(N);U.forEach(D=>{w=he(D,w)}),U.forEach((D,se)=>{let ge=D;if(I[se].parsedFile)D.status="uploading";else{const{originFileObj:ce}=D;let ae;try{ae=new File([ce],ce.name,{type:ce.type})}catch{ae=new Blob([ce],{type:ce.type}),ae.name=ce.name,ae.lastModifiedDate=new Date,ae.lastModified=new Date().getTime()}ae.uid=D.uid,ge=ae}T(ge,w)})},ne=($,I,U)=>{try{typeof $=="string"&&($=JSON.parse($))}catch{}if(!Le(I,N))return;const w=fe(I);w.status="done",w.percent=100,w.response=$,w.xhr=U;const D=he(w,N);T(w,D)},X=($,I)=>{if(!Le(I,N))return;const U=fe(I);U.status="uploading",U.percent=$.percent;const w=he(U,N);T(U,w,$)},le=($,I,U)=>{if(!Le(U,N))return;const w=fe(U);w.error=$,w.response=I,w.status="error";const D=he(w,N);T(w,D)},Ee=$=>{let I;Promise.resolve(typeof l=="function"?l($):l).then(U=>{if(U===!1)return;const w=tn($,N);w&&(I={...$,status:"removed"},N?.forEach(D=>{const se=I.uid!==void 0?"uid":"name";D[se]===I[se]&&!Object.isFrozen(D)&&(D.status="removed")}),R.current?.abort(I),T(I,w))})},xe=$=>{m($.type),$.type==="drop"&&p?.($)};a.useImperativeHandle(t,()=>({onBatchStart:ee,onSuccess:ne,onProgress:X,onError:le,fileList:N,upload:R.current,nativeElement:F.current}));const{getPrefixCls:wt,direction:Xe,className:St,style:vt,classNames:Et,styles:xt}=$e("upload"),k=wt("upload",b),It={...e,listType:o,showUploadList:i,type:C,multiple:O,hasControlInside:H,supportServerRender:V,disabled:B},[_e,He]=mt([Et,re],[xt,Z],{props:It}),de={onBatchStart:ee,onError:le,onProgress:X,onSuccess:ne,...e,customRequest:G,data:z,multiple:O,action:q,accept:J,supportServerRender:V,prefixCls:k,disabled:B,beforeUpload:Q,onChange:void 0,hasControlInside:H};delete de.className,delete de.style,(!h||B)&&delete de.id;const qe=`${k}-wrapper`,[Ve,Pt]=en(k,qe),[Ft]=Vt("Upload",Gt.Upload),{showRemoveIcon:Ge,showPreviewIcon:Nt,showDownloadIcon:Rt,removeIcon:Dt,previewIcon:Lt,downloadIcon:Ot,extra:At}=typeof i=="boolean"?{}:i,Mt=typeof Ge>"u"?!B:Ge,Ie=($,I)=>i?a.createElement(ln,{classNames:_e,styles:He,prefixCls:k,listType:o,items:N,previewFile:g,onPreview:c,onDownload:u,onRemove:Ee,showRemoveIcon:Mt,showPreviewIcon:Nt,showDownloadIcon:Rt,removeIcon:Dt,previewIcon:Lt,downloadIcon:Ot,iconRender:v,extra:At,locale:{...Ft,...S},isImageUrl:E,progress:j,appendAction:$,appendActionVisible:I,itemRender:M,disabled:B}):$,Pe=L(qe,P,y,Ve,Pt,St,_e.root,{[`${k}-rtl`]:Xe==="rtl",[`${k}-picture-card-wrapper`]:o==="picture-card",[`${k}-picture-circle-wrapper`]:o==="picture-circle"}),Fe={...He.root},Ke={...vt,...A};if(C==="drag"){const $=L(Ve,k,`${k}-drag`,{[`${k}-drag-uploading`]:N.some(I=>I.status==="uploading"),[`${k}-drag-hover`]:_==="dragover",[`${k}-disabled`]:B,[`${k}-rtl`]:Xe==="rtl"});return a.createElement("span",{className:Pe,ref:F,style:Fe},a.createElement("div",{className:$,style:Ke,onDrop:xe,onDragOver:xe,onDragLeave:xe},a.createElement(lt,{...de,ref:R,className:`${k}-btn`},a.createElement("div",{className:`${k}-drag-container`},h))),Ie())}const jt=L(k,`${k}-select`,{[`${k}-disabled`]:B,[`${k}-hidden`]:!h}),Je=a.createElement("div",{className:jt,style:Ke},a.createElement(lt,{...de,ref:R}));return o==="picture-card"||o==="picture-circle"?a.createElement("span",{className:Pe,ref:F,style:Fe},Ie(Je,!!h)):a.createElement("span",{className:Pe,ref:F,style:Fe},Je,Ie())},bt=a.forwardRef(cn),dn=a.forwardRef((e,t)=>{const{style:r,height:n,hasControlInside:s=!1,children:l,...i}=e,o={...r,height:n};return a.createElement(bt,{ref:t,hasControlInside:s,...i,style:o,type:"drag"},l)}),Ct=bt;Ct.Dragger=dn;Ct.LIST_IGNORE=pe;export{Cn as R,Ct as U};
