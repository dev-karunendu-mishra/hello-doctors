import{r as p,j as e,H as y,L as c,a as r}from"./app-BYa8S_9n.js";import{A as v}from"./AdminLayout-DmlOh8Oy.js";import{B as o,S as m}from"./index-0tDr8NYO.js";import{Z as I,C as _}from"./index-DNItgtoq.js";import{I as w}from"./index-B_rd_HFf.js";import{R as b}from"./SearchOutlined-D4i-lrpl.js";import{S as n}from"./index-CduuWFyU.js";import{F as k}from"./Table-CleZida5.js";import{T as h}from"./index-BK6_Nakz.js";import{R as C}from"./EyeOutlined-CUbi7mya.js";import{R}from"./EditOutlined-DAooh_G_.js";import{P as $}from"./index-CDhbI5sq.js";import{R as T}from"./DeleteOutlined-CbtEVhzX.js";import"./index-DBnpqrg4.js";import"./index-LHUJYw8K.js";import"./index-CGjlX2Jl.js";import"./UserOutlined-DYeZiufL.js";import"./MedicineBoxOutlined-DgVwHFOH.js";import"./CalendarOutlined-DoYyMnGX.js";import"./index-CVtKyXfV.js";import"./Input-0u-a9oIW.js";import"./getAllowClear-BjX4QNHW.js";import"./CloseCircleFilled-BF1Xn4qK.js";import"./TextArea-DqbUZGnc.js";import"./index-D7nQ4PG9.js";import"./CheckOutlined-BC1udOZf.js";import"./DownOutlined-Brp7krEt.js";import"./index-C7FRiD4H.js";import"./useBubbleLock-CtmNw5cq.js";import"./index-CC1J3wxy.js";import"./useForm-Cv8JD8bT.js";import"./Pagination-mfWY59_v.js";import"./index-46WmkCaE.js";import"./ExclamationCircleFilled-tKUh6zAB.js";const{Search:z}=w;function me({specialties:s,filters:d}){const[l,u]=p.useState(d?.search||""),[i,x]=p.useState(d?.status||"all"),j=t=>{r.get("/admin/specialties",{search:t,status:i!=="all"?i:void 0},{preserveState:!0,replace:!0})},f=t=>{x(t),r.get("/admin/specialties",{search:l,status:t!=="all"?t:void 0},{preserveState:!0,replace:!0})},g=t=>{r.delete(`/admin/specialties/${t}`,{onSuccess:()=>{}})},S=[{title:"Name",dataIndex:"name",key:"name",render:(t,a)=>e.jsxs(m,{children:[a.image_path?e.jsx("img",{src:`/${a.image_path}`,alt:t,style:{width:40,height:40,objectFit:"contain"}}):a.icon?e.jsx("span",{style:{fontSize:"24px"},children:a.icon}):null,e.jsx("strong",{children:t})]})},{title:"Slug",dataIndex:"slug",key:"slug"},{title:"Description",dataIndex:"description",key:"description",render:t=>t?t.length>50?t.substring(0,50)+"...":t:"-"},{title:"Doctors",dataIndex:"doctors_count",key:"doctors_count",render:t=>e.jsx(h,{color:"blue",children:t})},{title:"Status",dataIndex:"is_active",key:"is_active",render:t=>e.jsx(h,{color:t?"green":"red",children:t?"Active":"Inactive"})},{title:"Sort Order",dataIndex:"sort_order",key:"sort_order"},{title:"Created",dataIndex:"created_at",key:"created_at"},{title:"Actions",key:"actions",render:(t,a)=>e.jsxs(m,{children:[e.jsx(c,{href:`/admin/specialties/${a.id}`,children:e.jsx(o,{type:"default",icon:e.jsx(C,{}),size:"small",children:"View"})}),e.jsx(c,{href:`/admin/specialties/${a.id}/edit`,children:e.jsx(o,{type:"primary",icon:e.jsx(R,{}),size:"small",children:"Edit"})}),e.jsx($,{title:"Delete Specialty",description:`Are you sure you want to delete "${a.name}"?`,onConfirm:()=>g(a.id),okText:"Yes",cancelText:"No",disabled:a.doctors_count>0,children:e.jsx(o,{type:"primary",danger:!0,icon:e.jsx(T,{}),size:"small",disabled:a.doctors_count>0,title:a.doctors_count>0?"Cannot delete specialty with assigned doctors":"",children:"Delete"})})]})}];return e.jsxs(v,{children:[e.jsx(y,{title:"Manage Specialties"}),e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Manage Specialties"}),e.jsx(c,{href:"/admin/specialties/create",children:e.jsx(o,{type:"primary",icon:e.jsx(I,{}),children:"Add Specialty"})})]}),e.jsxs(_,{children:[e.jsxs("div",{className:"mb-4 flex gap-4",children:[e.jsx(z,{placeholder:"Search specialties...",allowClear:!0,enterButton:e.jsx(b,{}),size:"large",value:l,onChange:t=>u(t.target.value),onSearch:j,style:{flex:1}}),e.jsxs(n,{size:"large",value:i,onChange:f,style:{width:150},children:[e.jsx(n.Option,{value:"all",children:"All Status"}),e.jsx(n.Option,{value:"active",children:"Active"}),e.jsx(n.Option,{value:"inactive",children:"Inactive"})]})]}),e.jsx(k,{columns:S,dataSource:s.data,rowKey:"id",pagination:{current:s.current_page,pageSize:s.per_page,total:s.total,showSizeChanger:!1,showTotal:t=>`Total ${t} specialties`,onChange:t=>{r.get("/admin/specialties",{page:t,search:l,status:i!=="all"?i:void 0},{preserveState:!0,replace:!0})}}})]})]})}export{me as default};
