import{p as he,c as M,U as xe,u as Ne,j as ve,m as Ee,ap as ee,x as be,by as $e,z as ce,G as le,A as ie,ar as Se,ab as Pe,bz as X,bA as ke,bB as Re,B as me,ao as we,ad as Ie,bC as Me,an as Oe,a5 as Fe,bD as Ae}from"./index-BDREbTHe.js";import{r as o,R as w,b as Te}from"./app-D55t-D9U.js";import{R as He}from"./CheckCircleFilled-CO1ZpaHp.js";import{R as De}from"./CloseCircleFilled-CFl4zLgu.js";import{R as Le}from"./ExclamationCircleFilled-t0yh3rj6.js";import{R as _e}from"./InfoCircleFilled-DxeoyIrx.js";import{C as je}from"./CSSMotionList-DHZqg3NP.js";function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Q.apply(this,arguments)}const fe=o.forwardRef((t,e)=>{const{prefixCls:s,style:n,className:r,duration:i=4.5,showProgress:y,pauseOnHover:N=!0,eventKey:d,content:C,closable:f,props:m,onClick:E,onNoticeClose:h,times:g,hovering:p}=t,[u,x]=o.useState(!1),[b,c]=o.useState(0),[l,a]=o.useState(0),S=p||u,v=typeof i=="number"?i:0,k=v>0&&y,I=()=>{h(d)},W=P=>{(P.key==="Enter"||P.code==="Enter"||P.keyCode===xe.ENTER)&&I()};o.useEffect(()=>{if(!S&&v>0){const P=Date.now()-l,F=setTimeout(()=>{I()},v*1e3-l);return()=>{N&&clearTimeout(F),a(Date.now()-P)}}},[v,S,g]),o.useEffect(()=>{if(!S&&k&&(N||l===0)){const P=performance.now();let F;const D=()=>{cancelAnimationFrame(F),F=requestAnimationFrame(G=>{const K=G+l-P,A=Math.min(K/(v*1e3),1);c(A*100),A<1&&D()})};return D(),()=>{N&&cancelAnimationFrame(F)}}},[v,l,S,k,g]);const j=o.useMemo(()=>typeof f=="object"&&f!==null?f:{},[f]),H=he(j,!0),O=100-(!b||b<0?0:b>100?100:b),$=`${s}-notice`;return o.createElement("div",Q({},m,{ref:e,className:M($,r,{[`${$}-closable`]:f}),style:n,onMouseEnter:P=>{x(!0),m?.onMouseEnter?.(P)},onMouseLeave:P=>{x(!1),m?.onMouseLeave?.(P)},onClick:E}),o.createElement("div",{className:`${$}-content`},C),f&&o.createElement("button",Q({className:`${$}-close`,onKeyDown:W,"aria-label":"Close"},H,{onClick:P=>{P.preventDefault(),P.stopPropagation(),I()}}),j.closeIcon??"x"),k&&o.createElement("progress",{className:`${$}-progress`,max:"100",value:O},O+"%"))}),ue=w.createContext({}),Ge=({children:t,classNames:e})=>w.createElement(ue.Provider,{value:{classNames:e}},t),te=8,se=3,ne=16,Ke=t=>{const e={offset:te,threshold:se,gap:ne};return t&&typeof t=="object"&&(e.offset=t.offset??te,e.threshold=t.threshold??se,e.gap=t.gap??ne),[!!t,e]};function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Y.apply(this,arguments)}const We=t=>{const{configList:e,placement:s,prefixCls:n,className:r,style:i,motion:y,onAllNoticeRemoved:N,onNoticeClose:d,stack:C}=t,{classNames:f}=o.useContext(ue),m=o.useRef({}),[E,h]=o.useState(null),[g,p]=o.useState([]),u=e.map(v=>({config:v,key:String(v.key)})),[x,{offset:b,threshold:c,gap:l}]=Ke(C),a=x&&(g.length>0||u.length<=c),S=typeof y=="function"?y(s):y;return o.useEffect(()=>{x&&g.length>1&&p(v=>v.filter(k=>u.some(({key:I})=>k===I)))},[g,u,x]),o.useEffect(()=>{x&&m.current[u[u.length-1]?.key]&&h(m.current[u[u.length-1]?.key])},[u,x]),w.createElement(je,Y({key:s,className:M(n,`${n}-${s}`,f?.list,r,{[`${n}-stack`]:!!x,[`${n}-stack-expanded`]:a}),style:i,keys:u,motionAppear:!0},S,{onAllRemoved:()=>{N(s)}}),({config:v,className:k,style:I,index:W},j)=>{const{key:H,times:O}=v,$=String(H),{className:P,style:F,classNames:D,styles:G,...K}=v,A=u.findIndex(R=>R.key===$),T={};if(x){const R=u.length-1-(A>-1?A:W-1),B=s==="top"||s==="bottom"?"-50%":"0";if(R>0){T.height=a?m.current[$]?.offsetHeight:E?.offsetHeight;let Z=0;for(let q=0;q<R;q++)Z+=m.current[u[u.length-1-q].key]?.offsetHeight+l;const ye=(a?Z:R*b)*(s.startsWith("top")?1:-1),Ce=!a&&E?.offsetWidth&&m.current[$]?.offsetWidth?(E?.offsetWidth-b*2*(R<3?R:3))/m.current[$]?.offsetWidth:1;T.transform=`translate3d(${B}, ${ye}px, 0) scaleX(${Ce})`}else T.transform=`translate3d(${B}, 0, 0)`}return w.createElement("div",{ref:j,className:M(`${n}-notice-wrapper`,k,D?.wrapper),style:{...I,...T,...G?.wrapper},onMouseEnter:()=>p(R=>R.includes($)?R:[...R,$]),onMouseLeave:()=>p(R=>R.filter(B=>B!==$))},w.createElement(fe,Y({},K,{ref:R=>{A>-1?m.current[$]=R:delete m.current[$]},prefixCls:n,classNames:D,styles:G,className:M(P,f?.notice),style:F,times:O,key:H,eventKey:H,onNoticeClose:d,hovering:x&&g.length>0})))})},ze=o.forwardRef((t,e)=>{const{prefixCls:s="rc-notification",container:n,motion:r,maxCount:i,className:y,style:N,onAllRemoved:d,stack:C,renderNotifications:f}=t,[m,E]=o.useState([]),h=c=>{const l=m.find(k=>k.key===c),a=l?.closable,S=a&&typeof a=="object"?a:{},{onClose:v}=S;v?.(),l?.onClose?.(),E(k=>k.filter(I=>I.key!==c))};o.useImperativeHandle(e,()=>({open:c=>{E(l=>{let a=[...l];const S=a.findIndex(k=>k.key===c.key),v={...c};return S>=0?(v.times=(l[S]?.times||0)+1,a[S]=v):(v.times=0,a.push(v)),i>0&&a.length>i&&(a=a.slice(-i)),a})},close:c=>{h(c)},destroy:()=>{E([])}}));const[g,p]=o.useState({});o.useEffect(()=>{const c={};m.forEach(l=>{const{placement:a="topRight"}=l;a&&(c[a]=c[a]||[],c[a].push(l))}),Object.keys(g).forEach(l=>{c[l]=c[l]||[]}),p(c)},[m]);const u=c=>{p(l=>{const a={...l};return(a[c]||[]).length||delete a[c],a})},x=o.useRef(!1);if(o.useEffect(()=>{Object.keys(g).length>0?x.current=!0:x.current&&(d?.(),x.current=!1)},[g]),!n)return null;const b=Object.keys(g);return Te.createPortal(o.createElement(o.Fragment,null,b.map(c=>{const l=g[c],a=o.createElement(We,{key:c,configList:l,placement:c,prefixCls:s,className:y?.(c),style:N?.(c),motion:r,onNoticeClose:h,onAllNoticeRemoved:u,stack:C});return f?f(a,{prefixCls:s,key:c}):a})),n)}),Ue=()=>document.body;let oe=0;function Be(...t){const e={};return t.forEach(s=>{s&&Object.keys(s).forEach(n=>{const r=s[n];r!==void 0&&(e[n]=r)})}),e}function Xe(t={}){const{getContainer:e=Ue,motion:s,prefixCls:n,maxCount:r,className:i,style:y,onAllRemoved:N,stack:d,renderNotifications:C,...f}=t,[m,E]=o.useState(),h=o.useRef(),g=o.createElement(ze,{container:m,ref:h,prefixCls:n,motion:s,maxCount:r,className:i,style:y,onAllRemoved:N,stack:d,renderNotifications:C}),[p,u]=o.useState([]),x=Ne(c=>{const l=Be(f,c);(l.key===null||l.key===void 0)&&(l.key=`rc-notification-${oe}`,oe+=1),u(a=>[...a,{type:"open",config:l}])}),b=o.useMemo(()=>({open:x,close:c=>{u(l=>[...l,{type:"close",key:c}])},destroy:()=>{u(c=>[...c,{type:"destroy"}])}}),[]);return o.useEffect(()=>{E(e())}),o.useEffect(()=>{if(h.current&&p.length){p.forEach(a=>{switch(a.type){case"open":h.current.open(a.config);break;case"close":h.current.close(a.key);break;case"destroy":h.current.destroy();break}});let c,l;u(a=>((c!==a||!l)&&(c=a,l=a.filter(S=>!p.includes(S))),l))}},[p]),[b,g]}const Qe=t=>{const{componentCls:e,iconCls:s,boxShadow:n,colorText:r,colorSuccess:i,colorError:y,colorWarning:N,colorInfo:d,fontSizeLG:C,motionEaseInOutCirc:f,motionDurationSlow:m,marginXS:E,paddingXS:h,borderRadiusLG:g,zIndexPopup:p,contentPadding:u,contentBg:x}=t,b=`${e}-notice`,c=new ee("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),l=new ee("MessageMoveOut",{"0%":{maxHeight:t.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),a={padding:h,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${s}`]:{marginInlineEnd:E,fontSize:C},[`${b}-content`]:{display:"inline-block",padding:u,background:x,borderRadius:g,boxShadow:n,pointerEvents:"all"},[`${e}-success > ${s}`]:{color:i},[`${e}-error > ${s}`]:{color:y},[`${e}-warning > ${s}`]:{color:N},[`${e}-info > ${s},
      ${e}-loading > ${s}`]:{color:d}};return[{[e]:{...be(t),color:r,position:"fixed",top:E,width:"100%",pointerEvents:"none",zIndex:p,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:c,animationDuration:m,animationPlayState:"paused",animationTimingFunction:f},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:l,animationDuration:m,animationPlayState:"paused",animationTimingFunction:f},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}}},{[e]:{[`${b}-wrapper`]:{...a}}},{[`${e}-notice-pure-panel`]:{...a,padding:0,textAlign:"start"}}]},Ye=t=>({zIndexPopup:t.zIndexPopupBase+$e+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),pe=ve("Message",t=>{const e=Ee(t,{height:150});return Qe(e)},Ye),Ve={info:o.createElement(_e,null),success:o.createElement(He,null),error:o.createElement(De,null),warning:o.createElement(Le,null),loading:o.createElement(Pe,null)},de=t=>{const{prefixCls:e,type:s,icon:n,children:r,classNames:i,styles:y}=t,N=n||s&&Ve[s],d=Se(N,C=>{const f={...C?.style,...y?.icon};return{className:M(C.className,i?.icon),style:f}});return o.createElement("div",{className:M(`${e}-custom-content`,`${e}-${s}`)},d,o.createElement("span",{className:i?.content,style:y?.content},r))},qe=t=>{const{prefixCls:e,className:s,style:n,type:r,icon:i,content:y,classNames:N,styles:d,...C}=t,{getPrefixCls:f,className:m,style:E,classNames:h,styles:g}=ce("message"),p=e||f("message"),u=le(p),[x,b]=pe(p,u),[c,l]=ie([h,N],[g,d],{props:t});return o.createElement(fe,{...C,prefixCls:p,className:M(m,c.root,s,x,`${p}-notice-pure-panel`,b,u),style:{...l.root,...E,...n},eventKey:"pure",duration:null,content:o.createElement(de,{prefixCls:p,type:r,icon:i,classNames:c,styles:l},y)})};function Je(t,e){return{motionName:e??`${t}-move-up`}}function J(t){let e;const s=new Promise(r=>{e=t(()=>{r(!0)})}),n=()=>{e?.()};return n.then=(r,i)=>s.then(r,i),n.promise=s,n}const Ze=8,et=3,tt=({children:t,prefixCls:e})=>{const s=le(e),[n,r]=pe(e,s);return o.createElement(Ge,{classNames:{list:M(n,r,s)}},t)},st=(t,{prefixCls:e,key:s})=>o.createElement(tt,{prefixCls:e,key:s},t),nt=o.forwardRef((t,e)=>{const{top:s,prefixCls:n,getContainer:r,maxCount:i,duration:y=et,rtl:N,transitionName:d,onAllRemoved:C,pauseOnHover:f=!0}=t,{getPrefixCls:m,direction:E,getPopupContainer:h}=ce("message"),{message:g}=o.useContext(me),p=n||m("message"),u=()=>({left:"50%",transform:"translateX(-50%)",top:s??Ze}),x=()=>M({[`${p}-rtl`]:N??E==="rtl"}),b=()=>Je(p,d),[c,l]=ie([t?.classNames,g?.classNames],[t?.styles,g?.styles],{props:t}),[a,S]=Xe({prefixCls:p,style:u,className:x,motion:b,closable:!1,duration:y,getContainer:()=>r?.()||h?.()||document.body,maxCount:i,onAllRemoved:C,renderNotifications:st,pauseOnHover:f});return o.useImperativeHandle(e,()=>({...a,prefixCls:p,message:g,classNames:c,styles:l})),S});let ae=0;function ge(t){const e=o.useRef(null);return we(),[o.useMemo(()=>{const n=d=>{e.current?.close(d)},r=d=>{if(!e.current){const T=()=>{};return T.then=()=>{},T}const{open:C,prefixCls:f,message:m,classNames:E,styles:h}=e.current,g=m?.className||{},p=m?.style||{},u=m?.classNames||{},x=m?.styles||{},b=`${f}-notice`,{content:c,icon:l,type:a,key:S,className:v,style:k,onClose:I,classNames:W={},styles:j={},...H}=d;let O=S;Ie(O)||(ae+=1,O=`antd-message-${ae}`);const $={...t,...d},P=X(u,{props:$}),F=X(W,{props:$}),D=X(x,{props:$}),G=X(j,{props:$}),K=ke(void 0,P,F,E),A=Re(D,G,h);return J(T=>(C({...H,key:O,content:o.createElement(de,{prefixCls:f,type:a,icon:l,classNames:K,styles:A},c),placement:"top",className:M({[`${b}-${a}`]:a},v,g,K.root),style:{...A.root,...p,...k},onClose:()=>{I?.(),T()}}),()=>{n(O)}))},y={open:r,destroy:d=>{d!==void 0?n(d):e.current?.destroy()}};return["info","success","warning","error","loading"].forEach(d=>{const C=(f,m,E)=>{let h;f&&typeof f=="object"&&"content"in f?h=f:h={content:f};let g,p;typeof m=="function"?p=m:(g=m,p=E);const u={onClose:p,duration:g,...h,type:d};return r(u)};y[d]=C}),y},[]),o.createElement(nt,{key:"message-holder",...t,ref:e})]}function ot(t){return ge(t)}const at=w.createContext({});let L=null,_=t=>t(),z=[],U={};function re(){const{getContainer:t,duration:e,rtl:s,maxCount:n,top:r}=U,i=t?.()||document.body;return{getContainer:()=>i,duration:e,rtl:s,maxCount:n,top:r}}const rt=w.forwardRef((t,e)=>{const{messageConfig:s,sync:n}=t,{getPrefixCls:r}=o.useContext(me),i=U.prefixCls||r("message"),y=o.useContext(at),[N,d]=ge({...s,prefixCls:i,...y.message});return w.useImperativeHandle(e,()=>{const C={...N};return Object.keys(C).forEach(f=>{C[f]=(...m)=>(n(),N[f].apply(N,m))}),{instance:C,sync:n}}),d}),ct=w.forwardRef((t,e)=>{const[s,n]=w.useState(re),r=()=>{n(re)};w.useEffect(r,[]);const i=Ae(),y=i.getRootPrefixCls(),N=i.getIconPrefixCls(),d=i.getTheme(),C=w.createElement(rt,{ref:e,sync:r,messageConfig:s});return w.createElement(Fe,{prefixCls:y,iconPrefixCls:N,theme:d},i.holderRender?i.holderRender(C):C)}),V=()=>{if(!L){const t=document.createDocumentFragment(),e={fragment:t};L=e,_(()=>{Me(w.createElement(ct,{ref:s=>{const{instance:n,sync:r}=s||{};Promise.resolve().then(()=>{!e.instance&&n&&(e.instance=n,e.sync=r,V())})}}),t)});return}L.instance&&(z.forEach(t=>{const{type:e,skipped:s}=t;if(!s)switch(e){case"open":{_(()=>{const n=L.instance.open({...U,...t.config});n?.then(t.resolve),t.setCloseFn(n)});break}case"destroy":_(()=>{L?.instance.destroy(t.key)});break;default:_(()=>{var n;const r=(n=L.instance)[e].apply(n,Oe(t.args));r?.then(t.resolve),t.setCloseFn(r)})}}),z=[])};function lt(t){U={...U,...t},_(()=>{L?.sync?.()})}function it(t){const e=J(s=>{let n;const r={type:"open",config:t,resolve:s,setCloseFn:i=>{n=i}};return z.push(r),()=>{n?_(()=>{n()}):r.skipped=!0}});return V(),e}function mt(t,e){const s=J(n=>{let r;const i={type:t,args:e,resolve:n,setCloseFn:y=>{r=y}};return z.push(i),()=>{r?_(()=>{r()}):i.skipped=!0}});return V(),s}const ft=t=>{z.push({type:"destroy",key:t}),V()},ut=["success","info","warning","error","loading"],pt={open:it,destroy:ft,config:lt,useMessage:ot,_InternalPanelDoNotUseOrYouWillBeFired:qe},dt=pt;ut.forEach(t=>{dt[t]=(...e)=>mt(t,e)});export{dt as s};
