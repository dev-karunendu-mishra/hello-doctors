import{r as n}from"./app-CwyYxMay.js";import{R as B}from"./ExclamationCircleFilled-B5-_vtl5.js";import{a6 as G,j as J,B as R,L as K,a7 as Q,c as w,z as Z,a as ee,a8 as te,A as ne,o as oe}from"./index-CspT5I3m.js";import{g as z,P as re,a as se}from"./index-BXrQPkoB.js";import{B as b,c as A}from"./index-BZmIETWi.js";const I=e=>typeof e?.then=="function",le=e=>{const{type:t,children:f,prefixCls:m,buttonProps:p,close:a,autoFocus:u,emitEvent:c,isSilent:g,quitOnNullishReturnValue:d,actionFn:l}=e,s=n.useRef(!1),P=n.useRef(null),[y,x]=G(!1),C=(...o)=>{a?.(...o)};n.useEffect(()=>{let o=null;return u&&(o=setTimeout(()=>{P.current?.focus({preventScroll:!0})})),()=>{o&&clearTimeout(o)}},[u]);const N=o=>{I(o)&&(x(!0),o.then((...r)=>{x(!1,!0),C.apply(void 0,r),s.current=!1},r=>{if(x(!1,!0),s.current=!1,!g?.())return Promise.reject(r)}))},E=o=>{if(s.current)return;if(s.current=!0,!l){C();return}let r;if(c){if(r=l(o),d&&!I(r)){s.current=!1,C(o);return}}else if(l.length)r=l(a),s.current=!1;else if(r=l(),!I(r)){C();return}N(r)};return n.createElement(b,{...A(t),onClick:E,loading:y,prefixCls:m,...p,ref:P},f)},ae=e=>{const{componentCls:t,iconCls:f,antCls:m,zIndexPopup:p,colorText:a,colorWarning:u,marginXXS:c,marginXS:g,fontSize:d,fontWeightStrong:l,colorTextHeading:s}=e;return{[t]:{zIndex:p,[`&${m}-popover`]:{fontSize:d},[`${t}-message`]:{marginBottom:g,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${f}`]:{color:u,fontSize:d,lineHeight:1,marginInlineEnd:g},[`${t}-title`]:{fontWeight:l,color:s,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:c,color:a}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:g}}}}},ce=e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}},W=J("Popconfirm",e=>ae(e),ce,{resetStyle:!1}),L=e=>{const{prefixCls:t,okButtonProps:f,cancelButtonProps:m,title:p,description:a,cancelText:u,okText:c,okType:g="primary",icon:d=n.createElement(B,null),showCancel:l=!0,close:s,onConfirm:P,onCancel:y,onPopupClick:x,classNames:C,styles:N}=e,{getPrefixCls:E}=n.useContext(R),[o]=K("Popconfirm",Q.Popconfirm),r=z(p),S=z(a);return n.createElement("div",{className:`${t}-inner-content`,onClick:x},n.createElement("div",{className:`${t}-message`},d&&n.createElement("span",{className:`${t}-message-icon`},d),n.createElement("div",{className:`${t}-message-text`},r&&n.createElement("div",{className:w(`${t}-title`,C?.title),style:N?.title},r),S&&n.createElement("div",{className:w(`${t}-description`,C?.content),style:N?.content},S))),n.createElement("div",{className:`${t}-buttons`},l&&n.createElement(b,{onClick:y,size:"small",...m},u||o?.cancelText),n.createElement(le,{buttonProps:{size:"small",...A(g),...f},actionFn:P,close:s,prefixCls:E("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},c||o?.okText)))},ie=e=>{const{prefixCls:t,placement:f,className:m,style:p,...a}=e,{getPrefixCls:u}=n.useContext(R),c=u("popconfirm",t);return W(c),n.createElement(re,{placement:f,className:w(c,m),style:p,content:n.createElement(L,{prefixCls:c,...a})})},me=n.forwardRef((e,t)=>{const{prefixCls:f,placement:m="top",trigger:p,okType:a="primary",icon:u=n.createElement(B,null),children:c,overlayClassName:g,onOpenChange:d,overlayStyle:l,styles:s,arrow:P,classNames:y,...x}=e,{getPrefixCls:C,className:N,style:E,classNames:o,styles:r,arrow:S,trigger:F}=Z("popconfirm"),[V,j]=ee(e.defaultOpen??!1,e.open),H=te(P,S),O=p||F||"click",k=(i,$)=>{j(i),d?.(i,$)},X=i=>{k(!1,i)},q=i=>e.onConfirm?.call(void 0,i),M=i=>{k(!1,i),e.onCancel?.call(void 0,i)},D=(i,$)=>{const{disabled:_=!1}=e;_||k(i,$)},T=C("popconfirm",f),U={...e,placement:m,trigger:O,okType:a,overlayStyle:l,styles:s,classNames:y},[h,v]=ne([o,y],[r,s],{props:U}),Y=w(T,N,g,h.root);return W(T),n.createElement(se,{arrow:H,...oe(x,["title"]),trigger:O,placement:m,onOpenChange:D,open:V,ref:t,classNames:{root:Y,container:h.container,arrow:h.arrow},styles:{root:{...E,...v.root,...l},container:v.container,arrow:v.arrow},content:n.createElement(L,{okType:a,icon:u,...e,prefixCls:T,close:X,onConfirm:q,onCancel:M,classNames:h,styles:v}),"data-popover-inject":!0},c)}),ue=me;ue._InternalPanelDoNotUseOrYouWillBeFired=ie;export{ue as P};
