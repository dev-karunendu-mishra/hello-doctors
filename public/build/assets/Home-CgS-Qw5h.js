import{r as l,j as e,H as V,L as f}from"./app-DMN8c6vm.js";import{H as G,F as J}from"./Footer-YZHroJB1.js";import{s as a}from"./index-CSDSX5qQ.js";import{T as Q}from"./index-D1gX700H.js";import{C as i}from"./index-BW0nI5-Z.js";import{R as d,C as r}from"./row-DVRh59_D.js";import{I as z}from"./index-BJbHgQL4.js";import{R as $}from"./SearchOutlined-Bw3R2GAy.js";import{S as D}from"./index-DlinHlIe.js";import{R as E}from"./AimOutlined-Dq-SbNRr.js";import{B as g}from"./index-C8zb2_mb.js";import{R as C}from"./EnvironmentOutlined-B9ADwMvQ.js";import{S as w}from"./index-B7-622y8.js";import{R as I}from"./UserOutlined-CT6efwaX.js";import{R as F}from"./MedicineBoxOutlined-DXXWY55O.js";import"./index-Bu-4_bOu.js";import"./PhoneOutlined-B7FG_llU.js";import"./MailOutlined-BbSIDTAw.js";import"./TwitterOutlined-BXdpzYVf.js";import"./CheckCircleFilled-Uof9tbt-.js";import"./CloseCircleFilled-CU0jELYL.js";import"./ExclamationCircleFilled-DEw8Iq-9.js";import"./InfoCircleFilled-upCt2sjR.js";import"./CSSMotionList-B-ThN6IY.js";import"./EditOutlined-CeK_2jGo.js";import"./TextArea-C7pLIYAL.js";import"./getAllowClear-Cscf5q2u.js";import"./index-JZqEhivI.js";import"./CheckOutlined-Bo5eQYpK.js";import"./Input-0vkbORzU.js";import"./EyeOutlined-CgG6LajU.js";import"./index-C9dSZvy0.js";import"./DownOutlined-CPNtPKBg.js";const{Title:m,Paragraph:k}=Q,{Search:Re}=z;function Le({auth:P,cities:o,specialties:H,featuredDoctors:S,stats:y}){const[v,B]=l.useState(""),[x,n]=l.useState(null),[N,h]=l.useState(""),[R,p]=l.useState(!1);l.useEffect(()=>{L()},[]);const L=async()=>{if(p(!0),!navigator.geolocation){a.info("Geolocation is not supported by your browser"),p(!1);return}navigator.geolocation.getCurrentPosition(async t=>{try{const{latitude:s,longitude:c}=t.coords,j=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${s}&lon=${c}`)).json(),u=j.address?.city||j.address?.town||j.address?.village||j.address?.state_district;if(u){const b=o.find(M=>M.name.toLowerCase()===u.toLowerCase());b?(n(b.id),h(""),a.success(`Location detected: ${b.name}`)):(n(null),h(u),a.success(`Location detected: ${u}`))}}catch(s){console.error("Error getting location name:",s),a.error("Could not detect your city")}finally{p(!1)}},t=>{console.error("Geolocation error:",t),t.code===t.PERMISSION_DENIED?a.warning("Location access denied. Please select city manually."):a.error("Could not detect your location"),p(!1)})},T=(t,s)=>{n(t),h("")},O=t=>{h(t);const s=o.find(c=>c.name.toLowerCase()===t.toLowerCase());n(s?s.id:null)},_=()=>{const t=new URLSearchParams;if(v&&t.append("search",v),x){const s=o.find(c=>c.id===x);s&&t.append("city_name",s.name)}else N&&t.append("city_name",N);window.location.href=`/search?${t.toString()}`};return e.jsxs(e.Fragment,{children:[e.jsx(V,{title:"Hello Doctors - Find Best Doctors"}),e.jsx(G,{auth:P}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(m,{level:1,className:"text-white mb-4",children:"Find the Best Doctors Near You"}),e.jsx(k,{className:"text-xl text-blue-100 mb-8",children:"Connect with verified healthcare professionals across multiple cities"}),e.jsx(i,{className:"shadow-2xl",children:e.jsxs(d,{gutter:16,children:[e.jsx(r,{xs:24,md:12,children:e.jsx(z,{size:"large",placeholder:"Search by doctor name, specialty...",prefix:e.jsx($,{}),value:v,onChange:t=>B(t.target.value),onPressEnter:_})}),e.jsx(r,{xs:24,md:8,children:e.jsx(D,{size:"large",showSearch:!0,placeholder:e.jsxs("span",{children:[e.jsx(C,{})," ",R?"Detecting...":"Select or type city"]}),className:"w-full",value:x,onChange:T,onSearch:O,searchValue:x?void 0:N,allowClear:!0,filterOption:(t,s)=>(s?.children??"").toLowerCase().includes(t.toLowerCase()),notFoundContent:e.jsxs("div",{className:"text-center py-2",children:[e.jsx("p",{children:"City not in list?"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Just type and press Enter"})]}),suffixIcon:R?e.jsx(E,{spin:!0}):e.jsx(g,{type:"link",size:"small",icon:e.jsx(E,{}),onClick:t=>{t.stopPropagation(),L()},title:"Detect my location"}),children:o.map(t=>e.jsx(D.Option,{value:t.id,children:t.name},t.id))})}),e.jsx(r,{xs:24,md:4,children:e.jsx(g,{type:"primary",size:"large",block:!0,onClick:_,icon:e.jsx($,{}),children:"Search"})})]})})]})})}),e.jsx("div",{className:"py-12 bg-white",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs(d,{gutter:24,justify:"center",children:[e.jsx(r,{xs:24,sm:8,md:6,children:e.jsx(i,{children:e.jsx(w,{title:"Verified Doctors",value:y.total_doctors,prefix:e.jsx(I,{})})})}),e.jsx(r,{xs:24,sm:8,md:6,children:e.jsx(i,{children:e.jsx(w,{title:"Cities Covered",value:y.total_cities,prefix:e.jsx(C,{})})})}),e.jsx(r,{xs:24,sm:8,md:6,children:e.jsx(i,{children:e.jsx(w,{title:"Specialties",value:y.total_specialties,prefix:e.jsx(F,{})})})})]})})}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx(m,{level:2,className:"text-center mb-8",children:"Browse by Specialty"}),e.jsx(d,{gutter:[16,16],children:H.map(t=>e.jsx(r,{xs:12,sm:8,md:6,lg:4,children:e.jsx(f,{href:`/search?specialty=${t.id}`,children:e.jsxs(i,{hoverable:!0,className:"text-center",bodyStyle:{padding:"20px 10px"},children:[t.image_url?e.jsx("img",{src:t.image_url,alt:t.name,style:{width:48,height:48,margin:"0 auto",objectFit:"contain"},onError:s=>{s.target.style.display="none",s.target.nextElementSibling.style.display="block"}}):null,e.jsx("div",{style:{display:t.image_url?"none":"block"},children:t.icon?e.jsx("span",{style:{fontSize:32},children:t.icon}):e.jsx(F,{style:{fontSize:32,color:"#1890ff"}})}),e.jsx("div",{className:"mt-2 font-medium",children:t.name}),e.jsxs("div",{className:"text-gray-500 text-sm",children:[t.doctors_count," doctors"]})]})})},t.id))})]})}),S.length>0&&e.jsx("div",{className:"py-12 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx(m,{level:2,className:"text-center mb-8",children:"Featured Doctors"}),e.jsx(d,{gutter:[16,16],children:S.map(t=>e.jsx(r,{xs:24,sm:12,md:8,lg:6,children:e.jsxs(i,{hoverable:!0,cover:t.image?e.jsx("img",{alt:t.name,src:t.image,className:"h-48 object-cover"}):e.jsx("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:e.jsx(I,{style:{fontSize:48,color:"#ccc"}})}),children:[e.jsx(i.Meta,{title:t.name,description:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-blue-600 font-medium",children:t.specialty}),e.jsx("div",{className:"text-gray-500 text-sm mt-1",children:t.cities}),e.jsx("div",{className:"text-gray-600 text-sm mt-2",children:t.bio})]})}),e.jsx(f,{href:`/doctors/${t.id}`,children:e.jsx(g,{type:"primary",block:!0,className:"mt-4",children:"View Profile"})})]})},t.id))})]})}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx(m,{level:2,className:"text-center mb-8",children:"Find Doctors by City"}),e.jsx(d,{gutter:[16,16],children:o.map(t=>e.jsx(r,{xs:12,sm:8,md:6,children:e.jsx(f,{href:`/search?city_name=${t.name}`,children:e.jsxs(i,{hoverable:!0,className:"text-center",children:[e.jsx(C,{style:{fontSize:32,color:"#52c41a"}}),e.jsx("div",{className:"mt-2 font-medium",children:t.name}),e.jsxs("div",{className:"text-gray-500 text-sm",children:[t.doctors_count," doctors"]})]})})},t.id))})]})}),e.jsx("div",{className:"bg-blue-600 text-white py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx(m,{level:2,className:"text-white mb-4",children:"Are you a doctor?"}),e.jsx(k,{className:"text-xl text-blue-100 mb-6",children:"Join our network and connect with patients across multiple cities"}),e.jsx(f,{href:"/register-doctor",children:e.jsx(g,{type:"default",size:"large",children:"Register as Doctor"})})]})}),e.jsx(J,{})]})]})}export{Le as default};
