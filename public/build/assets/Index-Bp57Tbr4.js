import{r as p,j as e,H as y,L as c,a as r}from"./app-tmpI4mLP.js";import{A as v}from"./AdminLayout-CNPZWzZ6.js";import{B as o,S as m}from"./index-qtuIij24.js";import{Z as I,C as _}from"./index-BqX9Yzb6.js";import{I as w}from"./index-BGw-d5bC.js";import{R as b}from"./SearchOutlined-HysCMJo4.js";import{S as n}from"./index-N1_Hg__j.js";import{F as k}from"./Table-DN3LVa4a.js";import{T as h}from"./index-DSpAiNcB.js";import{R as C}from"./EyeOutlined-BN0-1IG5.js";import{R}from"./EditOutlined-BztkE0CL.js";import{P as $}from"./index-BOCfNNtw.js";import{R as T}from"./DeleteOutlined-sX6P0Ibj.js";import"./index-CMb6RVEN.js";import"./index-D6muVrnT.js";import"./index-CuwbXp58.js";import"./UserOutlined-BChFKg61.js";import"./MedicineBoxOutlined-DbNIrjYU.js";import"./CalendarOutlined-Cs-6lZfY.js";import"./index-CZp73YbJ.js";import"./Input-BR-5hVKA.js";import"./getAllowClear-CxlVo6wy.js";import"./CloseCircleFilled-DqQmA1SF.js";import"./TextArea-CUTapKMD.js";import"./index-CCjzbUW6.js";import"./CheckOutlined-Cd48V4t-.js";import"./DownOutlined-DnWqCbhC.js";import"./index-idqkUIIa.js";import"./useBubbleLock-lp5tPFuW.js";import"./index-BQNUKRmr.js";import"./useForm-CTdgcSUH.js";import"./Pagination-BDYwRDxg.js";import"./index-C64HyEEc.js";import"./ExclamationCircleFilled-DERJBXEj.js";const{Search:z}=w;function me({specialties:s,filters:d}){const[l,u]=p.useState(d?.search||""),[i,x]=p.useState(d?.status||"all"),j=t=>{r.get("/admin/specialties",{search:t,status:i!=="all"?i:void 0},{preserveState:!0,replace:!0})},f=t=>{x(t),r.get("/admin/specialties",{search:l,status:t!=="all"?t:void 0},{preserveState:!0,replace:!0})},g=t=>{r.delete(`/admin/specialties/${t}`,{onSuccess:()=>{}})},S=[{title:"Name",dataIndex:"name",key:"name",render:(t,a)=>e.jsxs(m,{children:[a.image_path?e.jsx("img",{src:`/${a.image_path}`,alt:t,style:{width:40,height:40,objectFit:"contain"}}):a.icon?e.jsx("span",{style:{fontSize:"24px"},children:a.icon}):null,e.jsx("strong",{children:t})]})},{title:"Slug",dataIndex:"slug",key:"slug"},{title:"Description",dataIndex:"description",key:"description",render:t=>t?t.length>50?t.substring(0,50)+"...":t:"-"},{title:"Doctors",dataIndex:"doctors_count",key:"doctors_count",render:t=>e.jsx(h,{color:"blue",children:t})},{title:"Status",dataIndex:"is_active",key:"is_active",render:t=>e.jsx(h,{color:t?"green":"red",children:t?"Active":"Inactive"})},{title:"Sort Order",dataIndex:"sort_order",key:"sort_order"},{title:"Created",dataIndex:"created_at",key:"created_at"},{title:"Actions",key:"actions",render:(t,a)=>e.jsxs(m,{children:[e.jsx(c,{href:`/admin/specialties/${a.id}`,children:e.jsx(o,{type:"default",icon:e.jsx(C,{}),size:"small",children:"View"})}),e.jsx(c,{href:`/admin/specialties/${a.id}/edit`,children:e.jsx(o,{type:"primary",icon:e.jsx(R,{}),size:"small",children:"Edit"})}),e.jsx($,{title:"Delete Specialty",description:`Are you sure you want to delete "${a.name}"?`,onConfirm:()=>g(a.id),okText:"Yes",cancelText:"No",disabled:a.doctors_count>0,children:e.jsx(o,{type:"primary",danger:!0,icon:e.jsx(T,{}),size:"small",disabled:a.doctors_count>0,title:a.doctors_count>0?"Cannot delete specialty with assigned doctors":"",children:"Delete"})})]})}];return e.jsxs(v,{children:[e.jsx(y,{title:"Manage Specialties"}),e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Manage Specialties"}),e.jsx(c,{href:"/admin/specialties/create",children:e.jsx(o,{type:"primary",icon:e.jsx(I,{}),children:"Add Specialty"})})]}),e.jsxs(_,{children:[e.jsxs("div",{className:"mb-4 flex gap-4",children:[e.jsx(z,{placeholder:"Search specialties...",allowClear:!0,enterButton:e.jsx(b,{}),size:"large",value:l,onChange:t=>u(t.target.value),onSearch:j,style:{flex:1}}),e.jsxs(n,{size:"large",value:i,onChange:f,style:{width:150},children:[e.jsx(n.Option,{value:"all",children:"All Status"}),e.jsx(n.Option,{value:"active",children:"Active"}),e.jsx(n.Option,{value:"inactive",children:"Inactive"})]})]}),e.jsx(k,{columns:S,dataSource:s.data,rowKey:"id",pagination:{current:s.current_page,pageSize:s.per_page,total:s.total,showSizeChanger:!1,showTotal:t=>`Total ${t} specialties`,onChange:t=>{r.get("/admin/specialties",{page:t,search:l,status:i!=="all"?i:void 0},{preserveState:!0,replace:!0})}}})]})]})}export{me as default};
