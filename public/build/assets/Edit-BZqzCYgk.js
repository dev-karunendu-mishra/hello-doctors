import{u as S,r as y,j as e,H as z,L as R}from"./app-BYa8S_9n.js";import{A as k}from"./AdminLayout-DmlOh8Oy.js";import{B as p}from"./index-0tDr8NYO.js";import{R as q}from"./ArrowLeftOutlined-Dlp2G01J.js";import{A as x}from"./index-DDY1xIK4.js";import{C as N}from"./index-DNItgtoq.js";import{T as P}from"./index-B65y3Pqa.js";import{R as c,C as o}from"./row-CbYz1Ynn.js";import{F as l}from"./index-DddJ7BZu.js";import{I as n}from"./index-B_rd_HFf.js";import{R as A}from"./UserOutlined-DYeZiufL.js";import{R as X}from"./MailOutlined-CEIOVj9z.js";import{R as D}from"./PhoneOutlined-CM9SdSJd.js";import{R as B}from"./GlobalOutlined-BO-vBEqN.js";import{S as m}from"./index-CduuWFyU.js";import{U as T,R as $}from"./index-eVwO7h-z.js";import{C as h}from"./index-C7FRiD4H.js";import"./index-DBnpqrg4.js";import"./index-LHUJYw8K.js";import"./index-CGjlX2Jl.js";import"./MedicineBoxOutlined-DgVwHFOH.js";import"./CalendarOutlined-DoYyMnGX.js";import"./CheckCircleFilled-DcQTLY5v.js";import"./CloseCircleFilled-BF1Xn4qK.js";import"./ExclamationCircleFilled-tKUh6zAB.js";import"./InfoCircleFilled-DXCGIY1C.js";import"./EditOutlined-DAooh_G_.js";import"./TextArea-DqbUZGnc.js";import"./getAllowClear-BjX4QNHW.js";import"./index-CVtKyXfV.js";import"./CheckOutlined-BC1udOZf.js";import"./CSSMotionList-DLcXAecY.js";import"./useForm-Cv8JD8bT.js";import"./Input-0u-a9oIW.js";import"./EyeOutlined-CUbi7mya.js";import"./SearchOutlined-D4i-lrpl.js";import"./index-D7nQ4PG9.js";import"./DownOutlined-Brp7krEt.js";import"./DeleteOutlined-CbtEVhzX.js";import"./useBubbleLock-CtmNw5cq.js";const{Title:d}=P,{TextArea:f}=n;function ye({doctor:r,cities:j,specialties:g,flash:u}){const{data:t,setData:s,post:v,processing:_,errors:a}=S({name:r.name||"",email:r.user?.email||"",phone:r.phone||"",specialization_id:r.specialization_id||null,qualification:r.qualification||"",experience_years:r.experience_years||"",bio:r.bio||"",consultation_fee:r.consultation_fee||"",website:r.website||"",is_available_online:r.is_available_online||!1,is_verified:r.is_verified||!1,is_active:r.is_active||!1,cities:r.cities?.map(i=>i.id)||[],profile_image:null,password:"",password_confirmation:"",_method:"PUT"}),[b,I]=y.useState([]),C=i=>{i.preventDefault(),v(`/admin/doctors/${r.id}`)},w={beforeUpload:()=>!1,maxCount:1,listType:"picture",fileList:b,onChange:({fileList:i})=>{I(i),i.length>0?s("profile_image",i[0].originFileObj):s("profile_image",null)}};return e.jsxs(k,{children:[e.jsx(z,{title:`Edit ${r.name}`}),e.jsx("div",{className:"mb-4",children:e.jsx(R,{href:"/admin/doctors",children:e.jsx(p,{icon:e.jsx(q,{}),children:"Back to List"})})}),u?.success&&e.jsx(x,{message:"Success",description:u.success,type:"success",showIcon:!0,closable:!0,className:"mb-6"}),a&&Object.keys(a).length>0&&e.jsx(x,{message:"Please fix the errors below",type:"error",showIcon:!0,className:"mb-6"}),e.jsx(N,{children:e.jsxs("form",{onSubmit:C,children:[e.jsx(d,{level:4,children:"Account Information"}),e.jsxs(c,{gutter:16,children:[e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Full Name",validateStatus:a.name?"error":"",help:a.name,required:!0,children:e.jsx(n,{size:"large",prefix:e.jsx(A,{}),placeholder:"Dr. John Doe",value:t.name,onChange:i=>s("name",i.target.value)})})}),e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Email",validateStatus:a.email?"error":"",help:a.email,required:!0,children:e.jsx(n,{size:"large",type:"email",prefix:e.jsx(X,{}),placeholder:"doctor@example.com",value:t.email,onChange:i=>s("email",i.target.value)})})})]}),e.jsxs(c,{gutter:16,children:[e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"New Password (leave blank to keep current)",validateStatus:a.password?"error":"",help:a.password,children:e.jsx(n.Password,{size:"large",placeholder:"New password",value:t.password,onChange:i=>s("password",i.target.value)})})}),e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Confirm New Password",validateStatus:a.password_confirmation?"error":"",help:a.password_confirmation,children:e.jsx(n.Password,{size:"large",placeholder:"Confirm new password",value:t.password_confirmation,onChange:i=>s("password_confirmation",i.target.value)})})})]}),e.jsx(d,{level:4,className:"mt-6",children:"Contact Information"}),e.jsxs(c,{gutter:16,children:[e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Phone",validateStatus:a.phone?"error":"",help:a.phone,required:!0,children:e.jsx(n,{size:"large",prefix:e.jsx(D,{}),placeholder:"+91 XXXXXXXXXX",value:t.phone,onChange:i=>s("phone",i.target.value)})})}),e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Website (Optional)",validateStatus:a.website?"error":"",help:a.website,children:e.jsx(n,{size:"large",prefix:e.jsx(B,{}),placeholder:"https://yourwebsite.com",value:t.website,onChange:i=>s("website",i.target.value)})})})]}),e.jsx(d,{level:4,className:"mt-6",children:"Professional Information"}),e.jsxs(c,{gutter:16,children:[e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Specialty",validateStatus:a.specialization_id?"error":"",help:a.specialization_id,required:!0,children:e.jsx(m,{size:"large",placeholder:"Select specialty",value:t.specialization_id,onChange:i=>s("specialization_id",i),children:g.map(i=>e.jsx(m.Option,{value:i.id,children:i.name},i.id))})})}),e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Experience (Years)",validateStatus:a.experience_years?"error":"",help:a.experience_years,children:e.jsx(n,{size:"large",type:"number",placeholder:"10",value:t.experience_years,onChange:i=>s("experience_years",i.target.value)})})})]}),e.jsx(l.Item,{label:"Qualifications",validateStatus:a.qualification?"error":"",help:a.qualification,required:!0,children:e.jsx(f,{rows:3,placeholder:"MBBS, MD (Medicine), DM (Cardiology)",value:t.qualification,onChange:i=>s("qualification",i.target.value)})}),e.jsx(l.Item,{label:"Bio / About",validateStatus:a.bio?"error":"",help:a.bio,children:e.jsx(f,{rows:4,placeholder:"Brief description about practice and expertise...",value:t.bio,onChange:i=>s("bio",i.target.value)})}),e.jsxs(c,{gutter:16,children:[e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Consultation Fee (â‚¹)",validateStatus:a.consultation_fee?"error":"",help:a.consultation_fee,children:e.jsx(n,{size:"large",type:"number",placeholder:"500",value:t.consultation_fee,onChange:i=>s("consultation_fee",i.target.value)})})}),e.jsx(o,{xs:24,md:12,children:e.jsx(l.Item,{label:"Practice Cities",validateStatus:a.cities?"error":"",help:a.cities,required:!0,children:e.jsx(m,{size:"large",mode:"multiple",placeholder:"Select cities",value:t.cities,onChange:i=>s("cities",i),children:j.map(i=>e.jsx(m.Option,{value:i.id,children:i.name},i.id))})})})]}),e.jsxs(l.Item,{label:"Profile Image",validateStatus:a.profile_image?"error":"",help:a.profile_image,children:[r.profile_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:r.profile_image_url,alt:"Current",className:"w-32 h-32 object-cover rounded"})}),e.jsx(T,{...w,children:e.jsx(p,{icon:e.jsx($,{}),children:r.profile_image_url?"Change Image":"Select Image"})})]}),e.jsx(d,{level:4,className:"mt-6",children:"Status Settings"}),e.jsx(l.Item,{children:e.jsx(h,{checked:t.is_available_online,onChange:i=>s("is_available_online",i.target.checked),children:"Available for online consultations"})}),e.jsx(l.Item,{children:e.jsx(h,{checked:t.is_verified,onChange:i=>s("is_verified",i.target.checked),children:"Verified (Admin approval)"})}),e.jsx(l.Item,{children:e.jsx(h,{checked:t.is_active,onChange:i=>s("is_active",i.target.checked),children:"Active"})}),e.jsx(l.Item,{children:e.jsx(p,{type:"primary",size:"large",htmlType:"submit",loading:_,block:!0,children:"Update Doctor"})})]})})]})}export{ye as default};
