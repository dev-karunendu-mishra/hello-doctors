import{u as f,r as v,j as e,H as b,L as I}from"./app-BYa8S_9n.js";import{A as C}from"./AuthenticatedLayout-4c4tZl9n.js";import{D as m,d as p}from"./index-c5o_Ul71.js";import{B as n}from"./index-0tDr8NYO.js";import{R as S}from"./ArrowLeftOutlined-Dlp2G01J.js";import{A as k}from"./index-DDY1xIK4.js";import{C as D}from"./index-DNItgtoq.js";import{F as i}from"./index-DddJ7BZu.js";import{I as d}from"./index-B_rd_HFf.js";import{S as o}from"./index-CduuWFyU.js";import{T as y}from"./index-DCW8NreV.js";import{U as N,R as A}from"./index-eVwO7h-z.js";import{C as T}from"./index-C7FRiD4H.js";import"./ApplicationLogo-DHnRG6eR.js";import"./transition-waMsh821.js";import"./index-CVtKyXfV.js";import"./CalendarOutlined-DoYyMnGX.js";import"./ClockCircleOutlined-CHFAjG-g.js";import"./CheckCircleFilled-DcQTLY5v.js";import"./CloseCircleFilled-BF1Xn4qK.js";import"./ExclamationCircleFilled-tKUh6zAB.js";import"./InfoCircleFilled-DXCGIY1C.js";import"./CSSMotionList-DLcXAecY.js";import"./useForm-Cv8JD8bT.js";import"./row-CbYz1Ynn.js";import"./Input-0u-a9oIW.js";import"./getAllowClear-BjX4QNHW.js";import"./EyeOutlined-CUbi7mya.js";import"./SearchOutlined-D4i-lrpl.js";import"./TextArea-DqbUZGnc.js";import"./index-D7nQ4PG9.js";import"./CheckOutlined-BC1udOZf.js";import"./DownOutlined-Brp7krEt.js";import"./DeleteOutlined-CbtEVhzX.js";import"./useBubbleLock-CtmNw5cq.js";const{TextArea:L}=d;function he({advertisement:a,flash:c}){const{data:s,setData:l,post:u,processing:h,errors:r}=f({title:a.title||"",description:a.description||"",link_url:a.link_url||"",position:a.position||"home_banner",start_date:a.start_date||"",end_date:a.end_date||"",is_active:a.is_active||!1,sort_order:a.sort_order||0,image:null,_method:"PUT"}),[x,j]=v.useState([]),g=t=>{t.preventDefault(),u(`/admin/advertisements/${a.id}`)},_={beforeUpload:()=>!1,maxCount:1,listType:"picture",fileList:x,onChange:({fileList:t})=>{j(t),t.length>0?l("image",t[0].originFileObj):l("image",null)}};return e.jsxs(C,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Edit Advertisement"}),children:[e.jsx(b,{title:`Edit ${a.title}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-4xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx(I,{href:"/admin/advertisements",children:e.jsx(n,{icon:e.jsx(S,{}),children:"Back to List"})})}),c?.success&&e.jsx(k,{message:"Success",description:c.success,type:"success",showIcon:!0,closable:!0,className:"mb-6"}),e.jsx(D,{children:e.jsx("form",{onSubmit:g,children:e.jsxs(i,{layout:"vertical",children:[e.jsx(i.Item,{label:"Title",validateStatus:r.title?"error":"",help:r.title,required:!0,children:e.jsx(d,{size:"large",placeholder:"Advertisement Title",value:s.title,onChange:t=>l("title",t.target.value)})}),e.jsx(i.Item,{label:"Description",validateStatus:r.description?"error":"",help:r.description,children:e.jsx(L,{rows:3,placeholder:"Brief description",value:s.description,onChange:t=>l("description",t.target.value)})}),e.jsx(i.Item,{label:"Link URL",validateStatus:r.link_url?"error":"",help:r.link_url,children:e.jsx(d,{size:"large",placeholder:"https://example.com",value:s.link_url,onChange:t=>l("link_url",t.target.value)})}),e.jsx(i.Item,{label:"Position",validateStatus:r.position?"error":"",help:r.position,required:!0,children:e.jsxs(o,{size:"large",value:s.position,onChange:t=>l("position",t),children:[e.jsx(o.Option,{value:"home_banner",children:"Home Banner"}),e.jsx(o.Option,{value:"sidebar",children:"Sidebar"}),e.jsx(o.Option,{value:"footer",children:"Footer"}),e.jsx(o.Option,{value:"search_results",children:"Search Results"})]})}),e.jsx(i.Item,{label:"Start Date",validateStatus:r.start_date?"error":"",help:r.start_date,required:!0,children:e.jsx(m,{size:"large",className:"w-full",defaultValue:s.start_date?p(s.start_date):null,onChange:t=>l("start_date",t?t.format("YYYY-MM-DD"):"")})}),e.jsx(i.Item,{label:"End Date (Optional)",validateStatus:r.end_date?"error":"",help:r.end_date,children:e.jsx(m,{size:"large",className:"w-full",defaultValue:s.end_date?p(s.end_date):null,onChange:t=>l("end_date",t?t.format("YYYY-MM-DD"):"")})}),e.jsx(i.Item,{label:"Sort Order",validateStatus:r.sort_order?"error":"",help:r.sort_order,children:e.jsx(y,{size:"large",className:"w-full",value:s.sort_order,onChange:t=>l("sort_order",t)})}),e.jsxs(i.Item,{label:"Advertisement Image",validateStatus:r.image?"error":"",help:r.image,children:[a.image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:a.image_url,alt:"Current",className:"w-64 h-auto object-cover rounded"})}),e.jsx(N,{..._,children:e.jsx(n,{icon:e.jsx(A,{}),children:a.image_url?"Change Image":"Select Image"})})]}),e.jsx(i.Item,{children:e.jsx(T,{checked:s.is_active,onChange:t=>l("is_active",t.target.checked),children:"Active"})}),e.jsxs("div",{className:"mb-4 text-gray-600",children:[e.jsxs("div",{children:["Total Clicks: ",a.click_count]}),e.jsxs("div",{children:["Created: ",new Date(a.created_at).toLocaleDateString()]})]}),e.jsx(i.Item,{children:e.jsx(n,{type:"primary",size:"large",htmlType:"submit",loading:h,block:!0,children:"Update Advertisement"})})]})})})]})})]})}export{he as default};
